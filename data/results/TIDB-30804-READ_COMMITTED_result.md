# Bug ID TIDB-30804-READ_COMMITTED

## Description

Link:                     https://github.com/pingcap/tidb/issues/30804
Original isolation level: REPEATABLE READ
Tested isolation level:   READ COMMITTED


## Details
 * Database: tidb-v5.4.0-local
 * Number of scenarios: 1
 * Initial setup script: /home/theodor/Projects/MasterThesis/data/sql/TIDB-30804_mysql_bk.sql

## Results
### Scenario 0
 * Instruction #0:
     - SQL:  SET GLOBAL TRANSACTION ISOLATION LEVEL READ COMMITTED;
     - TID: 0
     - Output: None
 * Instruction #1:
     - SQL:  start transaction;
     - TID: 0
     - Output: None
 * Instruction #2:
     - SQL:  WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c...
     - TID: 0
     - Output: ERROR: 1105 (HY000): runtime error: invalid memory address or nil pointer dereference
 * Instruction #3:
     - SQL:  select 1;
     - TID: 0
     - Output: Skipped due to previous error.
 * Instruction #4:
     - SQL:  commit;
     - TID: 0
     - Output: Skipped due to previous error.

 * Container logs:
   > [2024/06/18 13:44:04.396 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=111] [user=root] [host=]
   > [2024/06/18 13:44:04.398 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=351] [cur_db=] [sql="drop database if exists testdb;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.398 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:363, Type:drop schema, State:none, SchemaState:queueing, SchemaID:358, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.398 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.399 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:363, Type:drop schema, State:none, SchemaState:queueing, SchemaID:358, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.398 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop database if exists testdb;"]
   > [2024/06/18 13:44:04.399 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:363, Type:drop schema, State:none, SchemaState:queueing, SchemaID:358, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.398 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.399 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=351] [neededSchemaVersion=352] ["start time"=58.667µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.401 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=352] ["take time"=2.153789ms] [job="ID:363, Type:drop schema, State:running, SchemaState:write only, SchemaID:358, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.398 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.402 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:363, Type:drop schema, State:running, SchemaState:write only, SchemaID:358, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.398 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.403 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=352] [neededSchemaVersion=353] ["start time"=54.197µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.405 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=353] ["take time"=2.139332ms] [job="ID:363, Type:drop schema, State:running, SchemaState:delete only, SchemaID:358, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.398 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.405 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:363, Type:drop schema, State:running, SchemaState:delete only, SchemaID:358, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.398 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.406 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=353] [neededSchemaVersion=354] ["start time"=59.087µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.408 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=354] ["take time"=2.045744ms] [job="ID:363, Type:drop schema, State:done, SchemaState:queueing, SchemaID:358, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.398 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.408 +00:00] [INFO] [delete_range.go:107] ["[ddl] add job into delete-range table"] [jobID=363] [jobType="drop schema"]
   > [2024/06/18 13:44:04.408 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:363, Type:drop schema, State:synced, SchemaState:queueing, SchemaID:358, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.398 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.409 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=363]
   > [2024/06/18 13:44:04.409 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.410 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=354] [cur_db=] [sql="create database testdb;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.411 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:365, Type:create schema, State:none, SchemaState:queueing, SchemaID:364, TableID:0, RowCount:0, ArgLen:1, start time: 2024-06-18 13:44:04.411 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.411 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:365, Type:create schema, State:none, SchemaState:queueing, SchemaID:364, TableID:0, RowCount:0, ArgLen:1, start time: 2024-06-18 13:44:04.411 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create database testdb;"]
   > [2024/06/18 13:44:04.412 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:365, Type:create schema, State:none, SchemaState:queueing, SchemaID:364, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.411 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.412 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=354] [neededSchemaVersion=355] ["start time"=106.718µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.414 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=355] ["take time"=2.035268ms] [job="ID:365, Type:create schema, State:done, SchemaState:public, SchemaID:364, TableID:0, RowCount:0, ArgLen:1, start time: 2024-06-18 13:44:04.411 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.415 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:365, Type:create schema, State:synced, SchemaState:public, SchemaID:364, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.411 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.415 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=365]
   > [2024/06/18 13:44:04.415 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.431 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=355] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_897eid`\n--\n\nDROP TABLE IF EXISTS `t_897eid`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.431 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=355] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.432 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:367, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:366, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.432 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.433 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:367, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:366, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.432 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_897eid` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`,\n 1 AS `c8`,\n 1 AS `c9`*/;"]
   > [2024/06/18 13:44:04.433 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:367, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.432 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.435 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=355] [neededSchemaVersion=356] ["start time"=285.793µs] [phyTblIDs="[366]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:44:04.436 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=356] ["take time"=2.022346ms] [job="ID:367, Type:create view, State:done, SchemaState:public, SchemaID:364, TableID:366, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.432 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.437 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:367, Type:create view, State:synced, SchemaState:public, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.432 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.438 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=367]
   > [2024/06/18 13:44:04.438 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.438 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=356] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t__l_jcb`\n--\n\nDROP TABLE IF EXISTS `t__l_jcb`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.438 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=356] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.440 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:369, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:368, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.439 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.440 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:369, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:368, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.439 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t__l_jcb` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/06/18 13:44:04.440 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:369, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.439 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.442 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=356] [neededSchemaVersion=357] ["start time"=399.776µs] [phyTblIDs="[368]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:44:04.443 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=357] ["take time"=2.031776ms] [job="ID:369, Type:create view, State:done, SchemaState:public, SchemaID:364, TableID:368, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.439 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.444 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:369, Type:create view, State:synced, SchemaState:public, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.439 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.445 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=369]
   > [2024/06/18 13:44:04.445 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.446 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=357] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_ai_sq`\n--\n\nDROP TABLE IF EXISTS `t_ai_sq`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.446 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=357] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.447 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:371, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:370, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.447 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.447 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:371, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:370, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.447 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_ai_sq` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/06/18 13:44:04.448 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:371, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.447 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.449 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=357] [neededSchemaVersion=358] ["start time"=247.52µs] [phyTblIDs="[370]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:44:04.451 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=358] ["take time"=2.016619ms] [job="ID:371, Type:create view, State:done, SchemaState:public, SchemaID:364, TableID:370, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.447 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.451 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:371, Type:create view, State:synced, SchemaState:public, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.447 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.452 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=371]
   > [2024/06/18 13:44:04.452 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.452 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=358] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_fhw96d`\n--\n\nDROP TABLE IF EXISTS `t_fhw96d`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.453 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=358] [cur_db=testdb] [sql="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.454 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:373, Type:create table, State:none, SchemaState:queueing, SchemaID:364, TableID:372, RowCount:0, ArgLen:1, start time: 2024-06-18 13:44:04.453 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.454 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:373, Type:create table, State:none, SchemaState:queueing, SchemaID:364, TableID:372, RowCount:0, ArgLen:1, start time: 2024-06-18 13:44:04.453 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/06/18 13:44:04.454 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:373, Type:create table, State:none, SchemaState:queueing, SchemaID:364, TableID:372, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.453 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.455 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=358] [neededSchemaVersion=359] ["start time"=203.38µs] [phyTblIDs="[372]"] [actionTypes="[8]"]
   > [2024/06/18 13:44:04.457 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=359] ["take time"=2.050912ms] [job="ID:373, Type:create table, State:done, SchemaState:public, SchemaID:364, TableID:372, RowCount:0, ArgLen:1, start time: 2024-06-18 13:44:04.453 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.457 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:373, Type:create table, State:synced, SchemaState:public, SchemaID:364, TableID:372, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.453 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.458 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=373]
   > [2024/06/18 13:44:04.458 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.458 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=152] ["first split key"=748000000000000174]
   > [2024/06/18 13:44:04.458 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=152] ["first at"=748000000000000174] ["first new region left"="{Id:152 StartKey:7480000000000001ff6800000000000000f8 EndKey:7480000000000001ff7400000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:153 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/06/18 13:44:04.458 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[152]"]
   > [2024/06/18 13:44:04.458 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=359] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.466 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=359] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.466 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=359] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_gppivc`\n--\n\nDROP TABLE IF EXISTS `t_gppivc`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.467 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=359] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.468 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:375, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:374, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.467 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.468 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:375, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:374, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.467 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_gppivc` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/06/18 13:44:04.468 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:375, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.467 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.470 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=359] [neededSchemaVersion=360] ["start time"=279.718µs] [phyTblIDs="[374]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:44:04.471 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=360] ["take time"=2.133047ms] [job="ID:375, Type:create view, State:done, SchemaState:public, SchemaID:364, TableID:374, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.467 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.472 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:375, Type:create view, State:synced, SchemaState:public, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.467 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.472 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=375]
   > [2024/06/18 13:44:04.473 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.473 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=360] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_x0zovd`\n--\n\nDROP TABLE IF EXISTS `t_x0zovd`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.473 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=360] [cur_db=testdb] [sql="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.474 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:377, Type:create table, State:none, SchemaState:queueing, SchemaID:364, TableID:376, RowCount:0, ArgLen:1, start time: 2024-06-18 13:44:04.474 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.474 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:377, Type:create table, State:none, SchemaState:queueing, SchemaID:364, TableID:376, RowCount:0, ArgLen:1, start time: 2024-06-18 13:44:04.474 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/06/18 13:44:04.474 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:377, Type:create table, State:none, SchemaState:queueing, SchemaID:364, TableID:376, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.474 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.475 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=360] [neededSchemaVersion=361] ["start time"=185.71µs] [phyTblIDs="[376]"] [actionTypes="[8]"]
   > [2024/06/18 13:44:04.477 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=361] ["take time"=2.040855ms] [job="ID:377, Type:create table, State:done, SchemaState:public, SchemaID:364, TableID:376, RowCount:0, ArgLen:1, start time: 2024-06-18 13:44:04.474 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.478 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:377, Type:create table, State:synced, SchemaState:public, SchemaID:364, TableID:376, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.474 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.478 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=377]
   > [2024/06/18 13:44:04.479 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.479 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=154] ["first split key"=748000000000000178]
   > [2024/06/18 13:44:04.479 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=154] ["first at"=748000000000000178] ["first new region left"="{Id:154 StartKey:7480000000000001ff7400000000000000f8 EndKey:7480000000000001ff7800000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:155 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/06/18 13:44:04.479 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[154]"]
   > [2024/06/18 13:44:04.479 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=361] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.480 +00:00] [WARN] [2pc.go:1596] ["schemaLeaseChecker is not set for this transaction"] [sessionID=111] [startTS=450551675480702980] [commitTS=450551675480965120]
   > [2024/06/18 13:44:04.486 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=361] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.487 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=361] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.488 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:378, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.487 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.488 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:378, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.487 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"]
   > [2024/06/18 13:44:04.488 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:378, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.487 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.489 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=361] [neededSchemaVersion=362] ["start time"=71.239µs] [phyTblIDs="[366]"] [actionTypes="[16777216]"]
   > [2024/06/18 13:44:04.491 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=362] ["take time"=2.151066ms] [job="ID:378, Type:drop view, State:running, SchemaState:write only, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.487 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.491 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:378, Type:drop view, State:running, SchemaState:write only, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.487 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.492 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=362] [neededSchemaVersion=363] ["start time"=97.29µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.494 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=363] ["take time"=2.118589ms] [job="ID:378, Type:drop view, State:running, SchemaState:delete only, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.487 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.494 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:378, Type:drop view, State:running, SchemaState:delete only, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.487 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.495 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=363] [neededSchemaVersion=364] ["start time"=61.95µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.497 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=364] ["take time"=2.024721ms] [job="ID:378, Type:drop view, State:done, SchemaState:queueing, SchemaID:364, TableID:366, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.487 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.498 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:378, Type:drop view, State:synced, SchemaState:queueing, SchemaID:364, TableID:366, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.487 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.498 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=378]
   > [2024/06/18 13:44:04.498 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.500 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:380, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:379, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.5 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.501 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:380, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:379, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.5 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_897eid` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`, `c8`, `c9`) AS SELECT `ref_0`.`c_bnoakb` AS `c0`,HEX(_UTF8MB4'z5wamb') AS `c1`,`ref_1`.`c_hndnw` AS `c2`,`ref_1`.`c_hndnw` AS `c3`,CASE WHEN (`ref_1`.`c_to6g3c` NOT LIKE _UTF8MB4'nez_xd') AND (`ref_0`.`c_u2_5wc` LIKE _UTF8MB4'belz%') THEN `ref_0`.`c_bnoakb` ELSE `ref_1`.`c_xlxih` END AS `c4`,`ref_1`.`c_xru7m` AS `c5`,`ref_1`.`c_s_x8wd` AS `c6`,`ref_0`.`c_bnoakb` AS `c7`,21 AS `c8`,`ref_0`.`c_u2_5wc` AS `c9` FROM `testdb`.`t_fhw96d` AS `ref_0` JOIN `testdb`.`t_x0zovd` AS `ref_1` WHERE `ref_1`.`c_hndnw` IS NULL */;"]
   > [2024/06/18 13:44:04.501 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:380, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:379, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.5 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.502 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=364] [neededSchemaVersion=365] ["start time"=239.349µs] [phyTblIDs="[379]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:44:04.504 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=365] ["take time"=2.030588ms] [job="ID:380, Type:create view, State:done, SchemaState:public, SchemaID:364, TableID:379, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.5 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.505 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:380, Type:create view, State:synced, SchemaState:public, SchemaID:364, TableID:379, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.5 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.506 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=380]
   > [2024/06/18 13:44:04.506 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.506 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=365] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.507 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:381, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.507 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.507 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:381, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.507 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"]
   > [2024/06/18 13:44:04.507 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:381, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.507 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.508 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=365] [neededSchemaVersion=366] ["start time"=96.103µs] [phyTblIDs="[368]"] [actionTypes="[16777216]"]
   > [2024/06/18 13:44:04.510 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=366] ["take time"=2.028074ms] [job="ID:381, Type:drop view, State:running, SchemaState:write only, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.507 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.510 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:381, Type:drop view, State:running, SchemaState:write only, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.507 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.512 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=366] [neededSchemaVersion=367] ["start time"=67.817µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.513 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=367] ["take time"=2.025629ms] [job="ID:381, Type:drop view, State:running, SchemaState:delete only, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.507 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.514 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:381, Type:drop view, State:running, SchemaState:delete only, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.507 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.515 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=367] [neededSchemaVersion=368] ["start time"=108.884µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.516 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=368] ["take time"=2.017737ms] [job="ID:381, Type:drop view, State:done, SchemaState:queueing, SchemaID:364, TableID:368, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.507 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.517 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:381, Type:drop view, State:synced, SchemaState:queueing, SchemaID:364, TableID:368, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.507 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.517 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=381]
   > [2024/06/18 13:44:04.517 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.519 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:383, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:382, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.519 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.519 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:383, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:382, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.519 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t__l_jcb` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c6` AS `c0`,`ref_0`.`c3` AS `c1`,`ref_0`.`c3` AS `c2`,`ref_0`.`c0` AS `c3`,HEX(SUBSTR((`ref_0`.`c3` OR `ref_0`.`c3`), `ref_0`.`c5`, `ref_0`.`c7`)) AS `c4`,`ref_0`.`c2` AS `c5`,NTILE(26) OVER (PARTITION BY `ref_0`.`c6`, `ref_0`.`c7` ORDER BY `ref_0`.`c1`) AS `c6`,`ref_0`.`c1` AS `c7` FROM `testdb`.`t_ai_sq` AS `ref_0` WHERE `ref_0`.`c4` IS NULL */;"]
   > [2024/06/18 13:44:04.520 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:383, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:382, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.519 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.521 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=368] [neededSchemaVersion=369] ["start time"=323.578µs] [phyTblIDs="[382]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:44:04.522 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=369] ["take time"=2.072493ms] [job="ID:383, Type:create view, State:done, SchemaState:public, SchemaID:364, TableID:382, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.519 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.523 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:383, Type:create view, State:synced, SchemaState:public, SchemaID:364, TableID:382, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.519 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.523 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=383]
   > [2024/06/18 13:44:04.523 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.524 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=369] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.525 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:384, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.524 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.525 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:384, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.524 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"]
   > [2024/06/18 13:44:04.525 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:384, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.524 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.525 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=369] [neededSchemaVersion=370] ["start time"=51.403µs] [phyTblIDs="[370]"] [actionTypes="[16777216]"]
   > [2024/06/18 13:44:04.527 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=370] ["take time"=2.028981ms] [job="ID:384, Type:drop view, State:running, SchemaState:write only, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.524 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.528 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:384, Type:drop view, State:running, SchemaState:write only, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.524 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.528 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=370] [neededSchemaVersion=371] ["start time"=65.652µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.530 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=371] ["take time"=2.045325ms] [job="ID:384, Type:drop view, State:running, SchemaState:delete only, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.524 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.531 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:384, Type:drop view, State:running, SchemaState:delete only, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.524 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.532 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=371] [neededSchemaVersion=372] ["start time"=50.984µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.533 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=372] ["take time"=2.015711ms] [job="ID:384, Type:drop view, State:done, SchemaState:queueing, SchemaID:364, TableID:370, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.524 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.534 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:384, Type:drop view, State:synced, SchemaState:queueing, SchemaID:364, TableID:370, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.524 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.535 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=384]
   > [2024/06/18 13:44:04.535 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.537 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:386, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:385, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.536 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.537 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:386, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:385, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.536 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_ai_sq` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c5` AS `c0`,`ref_0`.`c1` AS `c1`,58 AS `c2`,`ref_0`.`c2` AS `c3`,`ref_0`.`c1` AS `c4`,`ref_0`.`c6` AS `c5`,((`ref_0`.`c0`+`ref_0`.`c6`)|`ref_0`.`c7`) AS `c6`,`ref_0`.`c4` AS `c7` FROM `testdb`.`t_897eid` AS `ref_0` WHERE (`ref_0`.`c7` BETWEEN `ref_0`.`c4` AND `ref_0`.`c0`) OR (`ref_0`.`c4` NOT IN (SELECT 88 AS `c0` FROM `testdb`.`t_897eid` AS `ref_1` WHERE `ref_1`.`c5` LIKE _UTF8MB4't%_cid' ORDER BY -`c0`)) */;"]
   > [2024/06/18 13:44:04.537 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:386, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:385, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.536 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.539 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=372] [neededSchemaVersion=373] ["start time"=249.406µs] [phyTblIDs="[385]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:44:04.541 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=373] ["take time"=2.158539ms] [job="ID:386, Type:create view, State:done, SchemaState:public, SchemaID:364, TableID:385, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.536 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.542 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:386, Type:create view, State:synced, SchemaState:public, SchemaID:364, TableID:385, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.536 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.542 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=386]
   > [2024/06/18 13:44:04.543 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.543 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=111] [schemaVersion=373] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:44:04.544 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:387, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.543 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.544 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:387, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.543 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"]
   > [2024/06/18 13:44:04.544 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:387, Type:drop view, State:none, SchemaState:queueing, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.543 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.545 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=373] [neededSchemaVersion=374] ["start time"=67.258µs] [phyTblIDs="[374]"] [actionTypes="[16777216]"]
   > [2024/06/18 13:44:04.547 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=374] ["take time"=2.035896ms] [job="ID:387, Type:drop view, State:running, SchemaState:write only, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.543 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.547 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:387, Type:drop view, State:running, SchemaState:write only, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.543 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.548 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=374] [neededSchemaVersion=375] ["start time"=63.417µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.550 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=375] ["take time"=2.176348ms] [job="ID:387, Type:drop view, State:running, SchemaState:delete only, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.543 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.550 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:387, Type:drop view, State:running, SchemaState:delete only, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.543 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.551 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=375] [neededSchemaVersion=376] ["start time"=80.877µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:44:04.553 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=376] ["take time"=2.046651ms] [job="ID:387, Type:drop view, State:done, SchemaState:queueing, SchemaID:364, TableID:374, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.543 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.554 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:387, Type:drop view, State:synced, SchemaState:queueing, SchemaID:364, TableID:374, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.543 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.554 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=387]
   > [2024/06/18 13:44:04.555 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:04.557 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:389, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:388, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.557 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:44:04.558 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:389, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:388, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.557 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_gppivc` (`c0`, `c1`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c_s_x8wd` AS `c0`,NULLIF(`ref_0`.`c_hndnw`, `ref_0`.`c_to6g3c`) AS `c1`,(`ref_0`.`c_xlxih`-(`ref_0`.`c_xlxih`<<`ref_0`.`c_xlxih`)) AS `c3`,`ref_0`.`c_hndnw` AS `c4`,`ref_0`.`c_to6g3c` AS `c5`,`ref_0`.`c_xru7m` AS `c6`,`ref_0`.`c_xru7m` AS `c7` FROM `testdb`.`t_x0zovd` AS `ref_0` WHERE `ref_0`.`c_to6g3c` NOT IN (SELECT `ref_1`.`c_u2_5wc` AS `c0` FROM `testdb`.`t_fhw96d` AS `ref_1` WHERE `ref_1`.`c_bnoakb`!=`ref_1`.`c_bnoakb` AND (`ref_1`.`c_qm1ixc`>>`ref_1`.`c_gsj0eb`) IS NOT NULL) */;"]
   > [2024/06/18 13:44:04.558 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:389, Type:create view, State:none, SchemaState:queueing, SchemaID:364, TableID:388, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.557 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.559 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=376] [neededSchemaVersion=377] ["start time"=421.008µs] [phyTblIDs="[388]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:44:04.561 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=377] ["take time"=2.050563ms] [job="ID:389, Type:create view, State:done, SchemaState:public, SchemaID:364, TableID:388, RowCount:0, ArgLen:3, start time: 2024-06-18 13:44:04.557 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.562 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:389, Type:create view, State:synced, SchemaState:public, SchemaID:364, TableID:388, RowCount:0, ArgLen:0, start time: 2024-06-18 13:44:04.557 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:44:04.562 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=389]
   > [2024/06/18 13:44:04.562 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:44:05.634 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=113] [user=root] [host=]
   > [2024/06/18 13:44:05.651 +00:00] [INFO] [set.go:139] ["set global var"] [conn=113] [name=tx_isolation] [val=READ-COMMITTED]
   > [2024/06/18 13:44:06.176 +00:00] [ERROR] [conn.go:974] ["connection running loop panic"] [conn=113] [lastSQL=" WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c7 as c3, ref_0.c1 as c10 from t_ai_sq as ref_0 ) as subq_0 window w_ap1h0c as ( partition by subq_0.c3 order by (subq_0.c3 - case when subq_0.c10 in ( select null as c0) then subq_0.c3 else subq_0.c3 end ) desc)) select 1;"] [err="runtime error: invalid memory address or nil pointer dereference"] [stack="goroutine 9637 [running]:\ngithub.com/pingcap/tidb/server.(*clientConn).Run.func1()\n\t/go/src/github.com/pingcap/tidb/server/conn.go:972 +0x8f\npanic({0x367fc80, 0x5828510})\n\t/usr/local/go/src/runtime/panic.go:884 +0x212\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowSpec(0xc16d9674f8?, 0xc0125b6780?, {0xc16d94da90?, 0x8?, 0xc144ee4ee8?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5618 +0x31\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowFuncs(0xc000fd4340, {0xc1645e2a28, 0x1, 0x1?}, {0xc16d94da90, 0x1, 0x1})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5609 +0xf0\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWindowFunctions(0xc000fd4340, {0x400d6b0, 0xc16d15a930}, {0x403f380, 0xc144ee4e00}, 0x1?, {0xc1645e2a18, 0x1, 0x1}, 0xc16d989b00)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5547 +0x2de\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc000fd4340, {0x400d6b0, 0xc16d15a930}, 0xc144a462d0)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3666 +0x1571\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildResultSetNode(0x0?, {0x400d6b0?, 0xc16d15a930?}, {0x401ffa0?, 0xc144a462d0?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:373 +0x2e5\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildCte(0xc000fd4340, {0x400d6b0?, 0xc16d15a930?}, 0xc0112ce480, 0x0?)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6128 +0x9d\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWith(0xc000fd4340, {0x400d6b0, 0xc16d15a930}, 0xc013d40100)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6370 +0x31f\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc000fd4340, {0x400d6b0, 0xc16d15a930}, 0xc144a465a0)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3498 +0x519\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).Build(0xc000fd4340, {0x400d6b0, 0xc16d15a930}, {0x401b268?, 0xc144a465a0?})\n\t/go/src/github.com/pingcap/tidb/planner/core/planbuilder.go:713 +0x6a5\ngithub.com/pingcap/tidb/planner.optimize({0x400d6b0, 0xc16d15a930}, {0x40424f0, 0xc012466600}, {0x401b268, 0xc144a465a0?}, {0x4036fa0, 0xc0b75327e0})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:336 +0x48a\ngithub.com/pingcap/tidb/planner.Optimize({0x400d6b0, 0xc16d15a930}, {0x40424f0?, 0xc012466600?}, {0x401b268, 0xc144a465a0}, {0x4036fa0, 0xc0b75327e0})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:220 +0xb30\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile(0xc16d968f98, {0x400d6b0, 0xc16d15a930}, {0x401fff0?, 0xc144a465a0})\n\t/go/src/github.com/pingcap/tidb/executor/compiler.go:66 +0x492\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt(0xc012466600, {0x400d6b0, 0xc16d15a930}, {0x401fff0, 0xc144a465a0?})\n\t/go/src/github.com/pingcap/tidb/session/session.go:1559 +0x5fa\ngithub.com/pingcap/tidb/server.(*TiDBContext).ExecuteStmt(0xc16341b800, {0x400d6b0?, 0xc16d15a930?}, {0x401fff0?, 0xc144a465a0?})\n\t/go/src/github.com/pingcap/tidb/server/driver_tidb.go:219 +0x44\ngithub.com/pingcap/tidb/server.(*clientConn).handleStmt(0xc144de9400, {0x400d608, 0xc013d40000}, {0x401fff0, 0xc144a465a0}, {0x5f8a1a8, 0x0, 0x0}, 0x1)\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1906 +0x167\ngithub.com/pingcap/tidb/server.(*clientConn).handleQuery(0xc144de9400, {0x400d608, 0xc013d40000}, {0xc0001f6281, 0x12e})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1775 +0x774\ngithub.com/pingcap/tidb/server.(*clientConn).dispatch(0xc144de9400, {0x400d6b0, 0xc16359a0c0?}, {0xc0001f6280, 0x12f, 0x12f})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1279 +0x1025\ngithub.com/pingcap/tidb/server.(*clientConn).Run(0xc144de9400, {0x400d6b0, 0xc16359a0c0})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1034 +0x253\ngithub.com/pingcap/tidb/server.(*Server).onConn(0xc00fc08820, 0xc144de9400)\n\t/go/src/github.com/pingcap/tidb/server/server.go:550 +0x6c5\ncreated by github.com/pingcap/tidb/server.(*Server).startNetworkListener\n\t/"]

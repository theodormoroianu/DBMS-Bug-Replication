# Bug ID TIDB-30804-REPEATABLE_READ

## Description

Link:                     https://github.com/pingcap/tidb/issues/30804
Original isolation level: REPEATABLE READ
Tested isolation level:   REPEATABLE READ


## Details
 * Database: tidb-v5.4.0-local
 * Number of scenarios: 1
 * Initial setup script: /home/theodor/Projects/MasterThesis/data/sql/TIDB-30804_mysql_bk.sql

## Results
### Scenario 0
 * Instruction #0:
     - SQL:  SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ;
     - TID: 0
     - Output: None
 * Instruction #1:
     - SQL:  start transaction;
     - TID: 0
     - Output: None
 * Instruction #2:
     - SQL:  WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c...
     - TID: 0
     - Output: ERROR: 1105 (HY000): runtime error: invalid memory address or nil pointer dereference
 * Instruction #3:
     - SQL:  select 1;
     - TID: 0
     - Output: Skipped due to previous error.
 * Instruction #4:
     - SQL:  commit;
     - TID: 0
     - Output: Skipped due to previous error.

 * Container logs:
   > [2024/06/18 13:43:58.160 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=105] [user=root] [host=]
   > [2024/06/18 13:43:58.162 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=317] [cur_db=] [sql="drop database if exists testdb;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.162 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:330, Type:drop schema, State:none, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.162 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.162 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:330, Type:drop schema, State:none, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.162 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop database if exists testdb;"]
   > [2024/06/18 13:43:58.163 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:330, Type:drop schema, State:none, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.162 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.163 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=317] [neededSchemaVersion=318] ["start time"=53.988µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.165 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=318] ["take time"=2.253594ms] [job="ID:330, Type:drop schema, State:running, SchemaState:write only, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.162 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.166 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:330, Type:drop schema, State:running, SchemaState:write only, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.162 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.167 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=318] [neededSchemaVersion=319] ["start time"=105.88µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.169 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=319] ["take time"=2.170342ms] [job="ID:330, Type:drop schema, State:running, SchemaState:delete only, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.162 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.169 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:330, Type:drop schema, State:running, SchemaState:delete only, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.162 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.170 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=319] [neededSchemaVersion=320] ["start time"=67.188µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.172 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=320] ["take time"=2.182564ms] [job="ID:330, Type:drop schema, State:done, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.162 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.172 +00:00] [INFO] [delete_range.go:107] ["[ddl] add job into delete-range table"] [jobID=330] [jobType="drop schema"]
   > [2024/06/18 13:43:58.172 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:330, Type:drop schema, State:synced, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.162 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.173 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=330]
   > [2024/06/18 13:43:58.173 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.174 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=320] [cur_db=] [sql="create database testdb;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.175 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:332, Type:create schema, State:none, SchemaState:queueing, SchemaID:331, TableID:0, RowCount:0, ArgLen:1, start time: 2024-06-18 13:43:58.174 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.175 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:332, Type:create schema, State:none, SchemaState:queueing, SchemaID:331, TableID:0, RowCount:0, ArgLen:1, start time: 2024-06-18 13:43:58.174 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create database testdb;"]
   > [2024/06/18 13:43:58.175 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:332, Type:create schema, State:none, SchemaState:queueing, SchemaID:331, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.174 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.176 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=320] [neededSchemaVersion=321] ["start time"=95.894µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.178 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=321] ["take time"=2.224051ms] [job="ID:332, Type:create schema, State:done, SchemaState:public, SchemaID:331, TableID:0, RowCount:0, ArgLen:1, start time: 2024-06-18 13:43:58.174 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.178 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:332, Type:create schema, State:synced, SchemaState:public, SchemaID:331, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.174 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.179 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=332]
   > [2024/06/18 13:43:58.179 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.228 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=321] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_897eid`\n--\n\nDROP TABLE IF EXISTS `t_897eid`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.229 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=321] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.230 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:334, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.23 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.230 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:334, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.23 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_897eid` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`,\n 1 AS `c8`,\n 1 AS `c9`*/;"]
   > [2024/06/18 13:43:58.231 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:334, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.23 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.233 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=321] [neededSchemaVersion=322] ["start time"=390.138µs] [phyTblIDs="[333]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:43:58.235 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=322] ["take time"=2.235086ms] [job="ID:334, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:333, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.23 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.236 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:334, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.23 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.237 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=334]
   > [2024/06/18 13:43:58.237 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.238 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=322] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t__l_jcb`\n--\n\nDROP TABLE IF EXISTS `t__l_jcb`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.238 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=322] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.239 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:336, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.239 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.239 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:336, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.239 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t__l_jcb` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/06/18 13:43:58.240 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:336, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.239 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.242 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=322] [neededSchemaVersion=323] ["start time"=340.689µs] [phyTblIDs="[335]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:43:58.244 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=323] ["take time"=2.210501ms] [job="ID:336, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:335, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.239 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.245 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:336, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.239 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.246 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=336]
   > [2024/06/18 13:43:58.246 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.246 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=323] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_ai_sq`\n--\n\nDROP TABLE IF EXISTS `t_ai_sq`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.247 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=323] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.253 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:338, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.252 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.253 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:338, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.252 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_ai_sq` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/06/18 13:43:58.254 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:338, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.252 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.256 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=323] [neededSchemaVersion=324] ["start time"=359.337µs] [phyTblIDs="[337]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:43:58.257 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=324] ["take time"=2.225028ms] [job="ID:338, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:337, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.252 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.258 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:338, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.252 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.259 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=338]
   > [2024/06/18 13:43:58.259 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.259 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=324] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_fhw96d`\n--\n\nDROP TABLE IF EXISTS `t_fhw96d`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.260 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=324] [cur_db=testdb] [sql="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.261 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:340, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:339, RowCount:0, ArgLen:1, start time: 2024-06-18 13:43:58.26 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.261 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:340, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:339, RowCount:0, ArgLen:1, start time: 2024-06-18 13:43:58.26 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/06/18 13:43:58.261 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:340, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:339, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.26 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.262 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=324] [neededSchemaVersion=325] ["start time"=251.781µs] [phyTblIDs="[339]"] [actionTypes="[8]"]
   > [2024/06/18 13:43:58.264 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=325] ["take time"=2.02996ms] [job="ID:340, Type:create table, State:done, SchemaState:public, SchemaID:331, TableID:339, RowCount:0, ArgLen:1, start time: 2024-06-18 13:43:58.26 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.265 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:340, Type:create table, State:synced, SchemaState:public, SchemaID:331, TableID:339, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.26 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.265 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=340]
   > [2024/06/18 13:43:58.265 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.265 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=146] ["first split key"=748000000000000153]
   > [2024/06/18 13:43:58.266 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=325] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.266 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=146] ["first at"=748000000000000153] ["first new region left"="{Id:146 StartKey:7480000000000001ff4700000000000000f8 EndKey:7480000000000001ff5300000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:147 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/06/18 13:43:58.266 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[146]"]
   > [2024/06/18 13:43:58.267 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=325] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.267 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=325] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_gppivc`\n--\n\nDROP TABLE IF EXISTS `t_gppivc`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.267 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=325] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.268 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:342, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.268 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.268 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:342, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.268 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_gppivc` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/06/18 13:43:58.269 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:342, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.268 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.272 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=325] [neededSchemaVersion=326] ["start time"=218.047µs] [phyTblIDs="[341]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:43:58.274 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=326] ["take time"=2.176418ms] [job="ID:342, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:341, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.268 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.274 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:342, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.268 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.275 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=342]
   > [2024/06/18 13:43:58.275 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.275 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=326] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_x0zovd`\n--\n\nDROP TABLE IF EXISTS `t_x0zovd`;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.275 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=326] [cur_db=testdb] [sql="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.276 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:344, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:343, RowCount:0, ArgLen:1, start time: 2024-06-18 13:43:58.276 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.276 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:344, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:343, RowCount:0, ArgLen:1, start time: 2024-06-18 13:43:58.276 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/06/18 13:43:58.277 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:344, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:343, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.276 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.278 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=326] [neededSchemaVersion=327] ["start time"=219.933µs] [phyTblIDs="[343]"] [actionTypes="[8]"]
   > [2024/06/18 13:43:58.280 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=327] ["take time"=2.18892ms] [job="ID:344, Type:create table, State:done, SchemaState:public, SchemaID:331, TableID:343, RowCount:0, ArgLen:1, start time: 2024-06-18 13:43:58.276 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.280 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:344, Type:create table, State:synced, SchemaState:public, SchemaID:331, TableID:343, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.276 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.281 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=344]
   > [2024/06/18 13:43:58.281 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.281 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=148] ["first split key"=748000000000000157]
   > [2024/06/18 13:43:58.281 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=327] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.281 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=148] ["first at"=748000000000000157] ["first new region left"="{Id:148 StartKey:7480000000000001ff5300000000000000f8 EndKey:7480000000000001ff5700000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:149 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/06/18 13:43:58.281 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[148]"]
   > [2024/06/18 13:43:58.282 +00:00] [WARN] [2pc.go:1596] ["schemaLeaseChecker is not set for this transaction"] [sessionID=105] [startTS=450551673856196609] [commitTS=450551673856196610]
   > [2024/06/18 13:43:58.283 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=327] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.283 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=327] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.284 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:345, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.283 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.284 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:345, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.283 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"]
   > [2024/06/18 13:43:58.284 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:345, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.283 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.285 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=327] [neededSchemaVersion=328] ["start time"=73.544µs] [phyTblIDs="[333]"] [actionTypes="[16777216]"]
   > [2024/06/18 13:43:58.287 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=328] ["take time"=2.193599ms] [job="ID:345, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.283 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.288 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:345, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.283 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.289 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=328] [neededSchemaVersion=329] ["start time"=62.508µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.291 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=329] ["take time"=2.564252ms] [job="ID:345, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.283 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.292 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:345, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.283 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.293 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=329] [neededSchemaVersion=330] ["start time"=91.982µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.296 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=330] ["take time"=2.90948ms] [job="ID:345, Type:drop view, State:done, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.283 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.296 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:345, Type:drop view, State:synced, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.283 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.297 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=345]
   > [2024/06/18 13:43:58.297 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.299 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:347, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:346, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.298 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.299 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:347, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:346, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.298 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_897eid` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`, `c8`, `c9`) AS SELECT `ref_0`.`c_bnoakb` AS `c0`,HEX(_UTF8MB4'z5wamb') AS `c1`,`ref_1`.`c_hndnw` AS `c2`,`ref_1`.`c_hndnw` AS `c3`,CASE WHEN (`ref_1`.`c_to6g3c` NOT LIKE _UTF8MB4'nez_xd') AND (`ref_0`.`c_u2_5wc` LIKE _UTF8MB4'belz%') THEN `ref_0`.`c_bnoakb` ELSE `ref_1`.`c_xlxih` END AS `c4`,`ref_1`.`c_xru7m` AS `c5`,`ref_1`.`c_s_x8wd` AS `c6`,`ref_0`.`c_bnoakb` AS `c7`,21 AS `c8`,`ref_0`.`c_u2_5wc` AS `c9` FROM `testdb`.`t_fhw96d` AS `ref_0` JOIN `testdb`.`t_x0zovd` AS `ref_1` WHERE `ref_1`.`c_hndnw` IS NULL */;"]
   > [2024/06/18 13:43:58.299 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:347, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:346, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.298 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.301 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=330] [neededSchemaVersion=331] ["start time"=328.049µs] [phyTblIDs="[346]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:43:58.303 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=331] ["take time"=2.249543ms] [job="ID:347, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:346, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.298 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.305 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:347, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:346, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.298 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.306 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=347]
   > [2024/06/18 13:43:58.306 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.307 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=331] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.308 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:348, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.307 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.308 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:348, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.307 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"]
   > [2024/06/18 13:43:58.308 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:348, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.307 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.310 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=331] [neededSchemaVersion=332] ["start time"=142.338µs] [phyTblIDs="[335]"] [actionTypes="[16777216]"]
   > [2024/06/18 13:43:58.312 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=332] ["take time"=2.180259ms] [job="ID:348, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.307 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.312 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:348, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.307 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.313 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=332] [neededSchemaVersion=333] ["start time"=63.835µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.315 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=333] ["take time"=2.212806ms] [job="ID:348, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.307 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.315 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:348, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.307 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.319 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=333] [neededSchemaVersion=334] ["start time"=113.563µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.321 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=334] ["take time"=2.212806ms] [job="ID:348, Type:drop view, State:done, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.307 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.322 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:348, Type:drop view, State:synced, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.307 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.322 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=348]
   > [2024/06/18 13:43:58.322 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.324 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:350, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:349, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.324 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.325 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:350, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:349, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.324 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t__l_jcb` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c6` AS `c0`,`ref_0`.`c3` AS `c1`,`ref_0`.`c3` AS `c2`,`ref_0`.`c0` AS `c3`,HEX(SUBSTR((`ref_0`.`c3` OR `ref_0`.`c3`), `ref_0`.`c5`, `ref_0`.`c7`)) AS `c4`,`ref_0`.`c2` AS `c5`,NTILE(26) OVER (PARTITION BY `ref_0`.`c6`, `ref_0`.`c7` ORDER BY `ref_0`.`c1`) AS `c6`,`ref_0`.`c1` AS `c7` FROM `testdb`.`t_ai_sq` AS `ref_0` WHERE `ref_0`.`c4` IS NULL */;"]
   > [2024/06/18 13:43:58.325 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:350, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:349, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.324 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.326 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=334] [neededSchemaVersion=335] ["start time"=318.689µs] [phyTblIDs="[349]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:43:58.328 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=335] ["take time"=2.164755ms] [job="ID:350, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:349, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.324 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.329 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:350, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:349, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.324 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.330 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=350]
   > [2024/06/18 13:43:58.330 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.331 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=335] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.331 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:351, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.331 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.331 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:351, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.331 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"]
   > [2024/06/18 13:43:58.332 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:351, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.331 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.332 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=335] [neededSchemaVersion=336] ["start time"=55.734µs] [phyTblIDs="[337]"] [actionTypes="[16777216]"]
   > [2024/06/18 13:43:58.335 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=336] ["take time"=2.195067ms] [job="ID:351, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.331 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.335 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:351, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.331 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.336 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=336] [neededSchemaVersion=337] ["start time"=66.699µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.338 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=337] ["take time"=2.306394ms] [job="ID:351, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.331 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.338 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:351, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.331 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.339 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=337] [neededSchemaVersion=338] ["start time"=258.835µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.341 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=338] ["take time"=2.201422ms] [job="ID:351, Type:drop view, State:done, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.331 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.342 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:351, Type:drop view, State:synced, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.331 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.343 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=351]
   > [2024/06/18 13:43:58.343 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.345 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:353, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:352, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.345 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.345 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:353, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:352, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.345 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_ai_sq` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c5` AS `c0`,`ref_0`.`c1` AS `c1`,58 AS `c2`,`ref_0`.`c2` AS `c3`,`ref_0`.`c1` AS `c4`,`ref_0`.`c6` AS `c5`,((`ref_0`.`c0`+`ref_0`.`c6`)|`ref_0`.`c7`) AS `c6`,`ref_0`.`c4` AS `c7` FROM `testdb`.`t_897eid` AS `ref_0` WHERE (`ref_0`.`c7` BETWEEN `ref_0`.`c4` AND `ref_0`.`c0`) OR (`ref_0`.`c4` NOT IN (SELECT 88 AS `c0` FROM `testdb`.`t_897eid` AS `ref_1` WHERE `ref_1`.`c5` LIKE _UTF8MB4't%_cid' ORDER BY -`c0`)) */;"]
   > [2024/06/18 13:43:58.346 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:353, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:352, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.345 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.347 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=338] [neededSchemaVersion=339] ["start time"=257.647µs] [phyTblIDs="[352]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:43:58.349 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=339] ["take time"=2.446916ms] [job="ID:353, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:352, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.345 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.351 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:353, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:352, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.345 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.353 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=353]
   > [2024/06/18 13:43:58.353 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.354 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=339] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 13:43:58.355 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:354, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.354 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.355 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:354, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.354 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"]
   > [2024/06/18 13:43:58.356 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:354, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.354 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.357 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=339] [neededSchemaVersion=340] ["start time"=104.274µs] [phyTblIDs="[341]"] [actionTypes="[16777216]"]
   > [2024/06/18 13:43:58.359 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=340] ["take time"=2.224539ms] [job="ID:354, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.354 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.360 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:354, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.354 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.361 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=340] [neededSchemaVersion=341] ["start time"=122.572µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.364 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=341] ["take time"=2.88748ms] [job="ID:354, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.354 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.364 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:354, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.354 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.365 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=341] [neededSchemaVersion=342] ["start time"=53.499µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 13:43:58.367 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=342] ["take time"=2.236273ms] [job="ID:354, Type:drop view, State:done, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.354 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.368 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:354, Type:drop view, State:synced, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.354 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.369 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=354]
   > [2024/06/18 13:43:58.369 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:58.374 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:356, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:355, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.372 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 13:43:58.374 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:356, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:355, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.372 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_gppivc` (`c0`, `c1`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c_s_x8wd` AS `c0`,NULLIF(`ref_0`.`c_hndnw`, `ref_0`.`c_to6g3c`) AS `c1`,(`ref_0`.`c_xlxih`-(`ref_0`.`c_xlxih`<<`ref_0`.`c_xlxih`)) AS `c3`,`ref_0`.`c_hndnw` AS `c4`,`ref_0`.`c_to6g3c` AS `c5`,`ref_0`.`c_xru7m` AS `c6`,`ref_0`.`c_xru7m` AS `c7` FROM `testdb`.`t_x0zovd` AS `ref_0` WHERE `ref_0`.`c_to6g3c` NOT IN (SELECT `ref_1`.`c_u2_5wc` AS `c0` FROM `testdb`.`t_fhw96d` AS `ref_1` WHERE `ref_1`.`c_bnoakb`!=`ref_1`.`c_bnoakb` AND (`ref_1`.`c_qm1ixc`>>`ref_1`.`c_gsj0eb`) IS NOT NULL) */;"]
   > [2024/06/18 13:43:58.375 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:356, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:355, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.372 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.376 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=342] [neededSchemaVersion=343] ["start time"=473.04µs] [phyTblIDs="[355]"] [actionTypes="[2097152]"]
   > [2024/06/18 13:43:58.378 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=343] ["take time"=2.257924ms] [job="ID:356, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:355, RowCount:0, ArgLen:3, start time: 2024-06-18 13:43:58.372 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.379 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:356, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:355, RowCount:0, ArgLen:0, start time: 2024-06-18 13:43:58.372 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 13:43:58.381 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=356]
   > [2024/06/18 13:43:58.381 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 13:43:59.459 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=107] [user=root] [host=]
   > [2024/06/18 13:43:59.478 +00:00] [INFO] [set.go:139] ["set global var"] [conn=107] [name=tx_isolation] [val=REPEATABLE-READ]
   > [2024/06/18 13:44:00.003 +00:00] [ERROR] [conn.go:974] ["connection running loop panic"] [conn=107] [lastSQL=" WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c7 as c3, ref_0.c1 as c10 from t_ai_sq as ref_0 ) as subq_0 window w_ap1h0c as ( partition by subq_0.c3 order by (subq_0.c3 - case when subq_0.c10 in ( select null as c0) then subq_0.c3 else subq_0.c3 end ) desc)) select 1;"] [err="runtime error: invalid memory address or nil pointer dereference"] [stack="goroutine 8976 [running]:\ngithub.com/pingcap/tidb/server.(*clientConn).Run.func1()\n\t/go/src/github.com/pingcap/tidb/server/conn.go:972 +0x8f\npanic({0x367fc80, 0x5828510})\n\t/usr/local/go/src/runtime/panic.go:884 +0x212\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowSpec(0xc13c0df4f8?, 0xc0125b6780?, {0xc13c0bd230?, 0x8?, 0xc12ec39188?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5618 +0x31\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowFuncs(0xc0006141a0, {0xc1398844f8, 0x1, 0x1?}, {0xc13c0bd230, 0x1, 0x1})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5609 +0xf0\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWindowFunctions(0xc0006141a0, {0x400d6b0, 0xc13add27e0}, {0x403f380, 0xc12ec390a0}, 0x1?, {0xc1398844e8, 0x1, 0x1}, 0xc13b6b4ff0)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5547 +0x2de\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc0006141a0, {0x400d6b0, 0xc13add27e0}, 0xc0132d45a0)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3666 +0x1571\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildResultSetNode(0x0?, {0x400d6b0?, 0xc13add27e0?}, {0x401ffa0?, 0xc0132d45a0?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:373 +0x2e5\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildCte(0xc0006141a0, {0x400d6b0?, 0xc13add27e0?}, 0xc00fecc180, 0x0?)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6128 +0x9d\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWith(0xc0006141a0, {0x400d6b0, 0xc13add27e0}, 0xc010086140)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6370 +0x31f\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc0006141a0, {0x400d6b0, 0xc13add27e0}, 0xc0132d4870)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3498 +0x519\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).Build(0xc0006141a0, {0x400d6b0, 0xc13add27e0}, {0x401b268?, 0xc0132d4870?})\n\t/go/src/github.com/pingcap/tidb/planner/core/planbuilder.go:713 +0x6a5\ngithub.com/pingcap/tidb/planner.optimize({0x400d6b0, 0xc13add27e0}, {0x40424f0, 0xc0100ff200}, {0x401b268, 0xc0132d4870?}, {0x4036fa0, 0xc0f8881340})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:336 +0x48a\ngithub.com/pingcap/tidb/planner.Optimize({0x400d6b0, 0xc13add27e0}, {0x40424f0?, 0xc0100ff200?}, {0x401b268, 0xc0132d4870}, {0x4036fa0, 0xc0f8881340})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:220 +0xb30\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile(0xc13c0e0f98, {0x400d6b0, 0xc13add27e0}, {0x401fff0?, 0xc0132d4870})\n\t/go/src/github.com/pingcap/tidb/executor/compiler.go:66 +0x492\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt(0xc0100ff200, {0x400d6b0, 0xc13add27e0}, {0x401fff0, 0xc0132d4870?})\n\t/go/src/github.com/pingcap/tidb/session/session.go:1559 +0x5fa\ngithub.com/pingcap/tidb/server.(*TiDBContext).ExecuteStmt(0xc1359ff7a0, {0x400d6b0?, 0xc13add27e0?}, {0x401fff0?, 0xc0132d4870?})\n\t/go/src/github.com/pingcap/tidb/server/driver_tidb.go:219 +0x44\ngithub.com/pingcap/tidb/server.(*clientConn).handleStmt(0xc12f031400, {0x400d608, 0xc010086040}, {0x401fff0, 0xc0132d4870}, {0x5f8a1a8, 0x0, 0x0}, 0x1)\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1906 +0x167\ngithub.com/pingcap/tidb/server.(*clientConn).handleQuery(0xc12f031400, {0x400d608, 0xc010086040}, {0xc0107e68c1, 0x12e})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1775 +0x774\ngithub.com/pingcap/tidb/server.(*clientConn).dispatch(0xc12f031400, {0x400d6b0, 0xc1357e40c0?}, {0xc0107e68c0, 0x12f, 0x12f})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1279 +0x1025\ngithub.com/pingcap/tidb/server.(*clientConn).Run(0xc12f031400, {0x400d6b0, 0xc1357e40c0})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1034 +0x253\ngithub.com/pingcap/tidb/server.(*Server).onConn(0xc00fc08820, 0xc12f031400)\n\t/go/src/github.com/pingcap/tidb/server/server.go:550 +0x6c5\ncreated by github.com/pingcap/tidb/server.(*Server).startNetworkListener\n\t/"]

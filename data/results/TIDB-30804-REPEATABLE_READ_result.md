# Bug ID TIDB-30804-REPEATABLE_READ

## Description

Link:                     https://github.com/pingcap/tidb/issues/30804
Original isolation level: REPEATABLE READ
Tested isolation level:   REPEATABLE READ


## Details
 * Database: tidb-v5.4.0
 * Number of scenarios: 1
 * Initial setup script: /home/theodor/Projects/MasterThesis/data/sql/TIDB-30804_mysql_bk.sql

## Results
### Scenario 0
 * Instruction #0:
     - SQL:  SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ;
     - TID: 0
     - Output: None
 * Instruction #1:
     - SQL:  start transaction;
     - TID: 0
     - Output: None
 * Instruction #2:
     - SQL:  WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c...
     - TID: 0
     - Output: ERROR: 1105 (HY000): runtime error: invalid memory address or nil pointer dereference
 * Instruction #3:
     - SQL:  select 1;
     - TID: 0
     - Output: Skipped due to previous error.
 * Instruction #4:
     - SQL:  commit;
     - TID: 0
     - Output: Skipped due to previous error.

 * Container logs:
   > [2024/06/18 16:13:44.553 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=105] [user=root] [host=]
   > [2024/06/18 16:13:44.555 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=317] [cur_db=] [sql="drop database if exists testdb;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.556 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:330, Type:drop schema, State:none, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.555 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.556 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:330, Type:drop schema, State:none, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.555 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop database if exists testdb;"]
   > [2024/06/18 16:13:44.556 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:330, Type:drop schema, State:none, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.555 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.557 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=317] [neededSchemaVersion=318] ["start time"=76.198µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.560 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=318] ["take time"=2.61679ms] [job="ID:330, Type:drop schema, State:running, SchemaState:write only, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.555 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.560 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:330, Type:drop schema, State:running, SchemaState:write only, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.555 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.561 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=318] [neededSchemaVersion=319] ["start time"=73.963µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.563 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=319] ["take time"=2.42647ms] [job="ID:330, Type:drop schema, State:running, SchemaState:delete only, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.555 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.563 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:330, Type:drop schema, State:running, SchemaState:delete only, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.555 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.564 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=319] [neededSchemaVersion=320] ["start time"=60.204µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.566 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=320] ["take time"=2.191728ms] [job="ID:330, Type:drop schema, State:done, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.555 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.566 +00:00] [INFO] [delete_range.go:107] ["[ddl] add job into delete-range table"] [jobID=330] [jobType="drop schema"]
   > [2024/06/18 16:13:44.566 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:330, Type:drop schema, State:synced, SchemaState:queueing, SchemaID:325, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.555 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.567 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=330]
   > [2024/06/18 16:13:44.567 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.568 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=320] [cur_db=] [sql="create database testdb;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.570 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:332, Type:create schema, State:none, SchemaState:queueing, SchemaID:331, TableID:0, RowCount:0, ArgLen:1, start time: 2024-06-18 16:13:44.569 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.570 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:332, Type:create schema, State:none, SchemaState:queueing, SchemaID:331, TableID:0, RowCount:0, ArgLen:1, start time: 2024-06-18 16:13:44.569 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create database testdb;"]
   > [2024/06/18 16:13:44.570 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:332, Type:create schema, State:none, SchemaState:queueing, SchemaID:331, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.569 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.571 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=320] [neededSchemaVersion=321] ["start time"=113.354µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.573 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=321] ["take time"=2.226929ms] [job="ID:332, Type:create schema, State:done, SchemaState:public, SchemaID:331, TableID:0, RowCount:0, ArgLen:1, start time: 2024-06-18 16:13:44.569 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.573 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:332, Type:create schema, State:synced, SchemaState:public, SchemaID:331, TableID:0, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.569 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.574 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=332]
   > [2024/06/18 16:13:44.574 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.622 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=321] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_897eid`\n--\n\nDROP TABLE IF EXISTS `t_897eid`;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.622 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=321] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.623 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:334, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.623 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.623 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:334, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.623 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_897eid` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`,\n 1 AS `c8`,\n 1 AS `c9`*/;"]
   > [2024/06/18 16:13:44.624 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:334, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.623 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.625 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=321] [neededSchemaVersion=322] ["start time"=280.069µs] [phyTblIDs="[333]"] [actionTypes="[2097152]"]
   > [2024/06/18 16:13:44.627 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=322] ["take time"=2.230701ms] [job="ID:334, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:333, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.623 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.629 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:334, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.623 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.630 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=334]
   > [2024/06/18 16:13:44.630 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.633 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=322] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t__l_jcb`\n--\n\nDROP TABLE IF EXISTS `t__l_jcb`;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.633 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=322] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.635 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:336, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.635 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:336, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t__l_jcb` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/06/18 16:13:44.636 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:336, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.638 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=322] [neededSchemaVersion=323] ["start time"=348.235µs] [phyTblIDs="[335]"] [actionTypes="[2097152]"]
   > [2024/06/18 16:13:44.640 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=323] ["take time"=2.222739ms] [job="ID:336, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:335, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.640 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:336, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.641 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=336]
   > [2024/06/18 16:13:44.641 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.641 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=323] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_ai_sq`\n--\n\nDROP TABLE IF EXISTS `t_ai_sq`;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.642 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=323] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.644 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:338, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.644 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.645 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:338, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.644 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_ai_sq` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/06/18 16:13:44.645 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:338, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.644 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.647 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=323] [neededSchemaVersion=324] ["start time"=369.397µs] [phyTblIDs="[337]"] [actionTypes="[2097152]"]
   > [2024/06/18 16:13:44.649 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=324] ["take time"=2.187888ms] [job="ID:338, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:337, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.644 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.649 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:338, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.644 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.650 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=338]
   > [2024/06/18 16:13:44.650 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.650 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=324] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_fhw96d`\n--\n\nDROP TABLE IF EXISTS `t_fhw96d`;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.650 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=324] [cur_db=testdb] [sql="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.651 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:340, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:339, RowCount:0, ArgLen:1, start time: 2024-06-18 16:13:44.651 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.651 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:340, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:339, RowCount:0, ArgLen:1, start time: 2024-06-18 16:13:44.651 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/06/18 16:13:44.651 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:340, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:339, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.651 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.652 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=324] [neededSchemaVersion=325] ["start time"=185.99µs] [phyTblIDs="[339]"] [actionTypes="[8]"]
   > [2024/06/18 16:13:44.654 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=325] ["take time"=2.287902ms] [job="ID:340, Type:create table, State:done, SchemaState:public, SchemaID:331, TableID:339, RowCount:0, ArgLen:1, start time: 2024-06-18 16:13:44.651 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.655 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:340, Type:create table, State:synced, SchemaState:public, SchemaID:331, TableID:339, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.651 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.656 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=340]
   > [2024/06/18 16:13:44.656 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.656 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=146] ["first split key"=748000000000000153]
   > [2024/06/18 16:13:44.657 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=325] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.657 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=146] ["first at"=748000000000000153] ["first new region left"="{Id:146 StartKey:7480000000000001ff4700000000000000f8 EndKey:7480000000000001ff5300000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:147 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/06/18 16:13:44.657 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[146]"]
   > [2024/06/18 16:13:44.658 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=325] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.658 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=325] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_gppivc`\n--\n\nDROP TABLE IF EXISTS `t_gppivc`;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.658 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=325] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.660 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:342, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.660 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:342, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_gppivc` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/06/18 16:13:44.660 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:342, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.661 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=325] [neededSchemaVersion=326] ["start time"=185.222µs] [phyTblIDs="[341]"] [actionTypes="[2097152]"]
   > [2024/06/18 16:13:44.663 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=326] ["take time"=2.332462ms] [job="ID:342, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:341, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.664 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:342, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.664 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=342]
   > [2024/06/18 16:13:44.665 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.665 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=326] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_x0zovd`\n--\n\nDROP TABLE IF EXISTS `t_x0zovd`;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.665 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=326] [cur_db=testdb] [sql="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.666 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:344, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:343, RowCount:0, ArgLen:1, start time: 2024-06-18 16:13:44.666 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.666 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:344, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:343, RowCount:0, ArgLen:1, start time: 2024-06-18 16:13:44.666 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/06/18 16:13:44.667 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:344, Type:create table, State:none, SchemaState:queueing, SchemaID:331, TableID:343, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.666 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.668 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=326] [neededSchemaVersion=327] ["start time"=218.049µs] [phyTblIDs="[343]"] [actionTypes="[8]"]
   > [2024/06/18 16:13:44.670 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=327] ["take time"=2.201157ms] [job="ID:344, Type:create table, State:done, SchemaState:public, SchemaID:331, TableID:343, RowCount:0, ArgLen:1, start time: 2024-06-18 16:13:44.666 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.670 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:344, Type:create table, State:synced, SchemaState:public, SchemaID:331, TableID:343, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.666 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.671 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=344]
   > [2024/06/18 16:13:44.671 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.671 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=148] ["first split key"=748000000000000157]
   > [2024/06/18 16:13:44.671 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=148] ["first at"=748000000000000157] ["first new region left"="{Id:148 StartKey:7480000000000001ff5300000000000000f8 EndKey:7480000000000001ff5700000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:149 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/06/18 16:13:44.671 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[148]"]
   > [2024/06/18 16:13:44.671 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=327] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.672 +00:00] [WARN] [2pc.go:1596] ["schemaLeaseChecker is not set for this transaction"] [sessionID=105] [startTS=450554029584154628] [commitTS=450554029584416768]
   > [2024/06/18 16:13:44.673 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=327] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.673 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=327] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.674 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:345, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.673 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.674 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:345, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.673 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"]
   > [2024/06/18 16:13:44.674 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:345, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.673 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.675 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=327] [neededSchemaVersion=328] ["start time"=60.554µs] [phyTblIDs="[333]"] [actionTypes="[16777216]"]
   > [2024/06/18 16:13:44.677 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=328] ["take time"=2.214288ms] [job="ID:345, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.673 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.677 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:345, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.673 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.678 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=328] [neededSchemaVersion=329] ["start time"=62.369µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.680 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=329] ["take time"=2.265622ms] [job="ID:345, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.673 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.681 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:345, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.673 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.682 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=329] [neededSchemaVersion=330] ["start time"=84.37µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.684 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=330] ["take time"=2.228466ms] [job="ID:345, Type:drop view, State:done, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.673 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.685 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:345, Type:drop view, State:synced, SchemaState:queueing, SchemaID:331, TableID:333, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.673 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.686 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=345]
   > [2024/06/18 16:13:44.686 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.688 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:347, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:346, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.688 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.688 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:347, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:346, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.688 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_897eid` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`, `c8`, `c9`) AS SELECT `ref_0`.`c_bnoakb` AS `c0`,HEX(_UTF8MB4'z5wamb') AS `c1`,`ref_1`.`c_hndnw` AS `c2`,`ref_1`.`c_hndnw` AS `c3`,CASE WHEN (`ref_1`.`c_to6g3c` NOT LIKE _UTF8MB4'nez_xd') AND (`ref_0`.`c_u2_5wc` LIKE _UTF8MB4'belz%') THEN `ref_0`.`c_bnoakb` ELSE `ref_1`.`c_xlxih` END AS `c4`,`ref_1`.`c_xru7m` AS `c5`,`ref_1`.`c_s_x8wd` AS `c6`,`ref_0`.`c_bnoakb` AS `c7`,21 AS `c8`,`ref_0`.`c_u2_5wc` AS `c9` FROM `testdb`.`t_fhw96d` AS `ref_0` JOIN `testdb`.`t_x0zovd` AS `ref_1` WHERE `ref_1`.`c_hndnw` IS NULL */;"]
   > [2024/06/18 16:13:44.689 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:347, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:346, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.688 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.691 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=330] [neededSchemaVersion=331] ["start time"=293.059µs] [phyTblIDs="[346]"] [actionTypes="[2097152]"]
   > [2024/06/18 16:13:44.693 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=331] ["take time"=2.230421ms] [job="ID:347, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:346, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.688 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.694 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:347, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:346, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.688 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.695 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=347]
   > [2024/06/18 16:13:44.695 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.696 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=331] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.696 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:348, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.696 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.696 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:348, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.696 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"]
   > [2024/06/18 16:13:44.696 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:348, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.696 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.697 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=331] [neededSchemaVersion=332] ["start time"=70.541µs] [phyTblIDs="[335]"] [actionTypes="[16777216]"]
   > [2024/06/18 16:13:44.699 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=332] ["take time"=2.22204ms] [job="ID:348, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.696 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.700 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:348, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.696 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.701 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=332] [neededSchemaVersion=333] ["start time"=119.501µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.704 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=333] ["take time"=2.778616ms] [job="ID:348, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.696 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.704 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:348, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.696 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.705 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=333] [neededSchemaVersion=334] ["start time"=62.509µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.707 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=334] ["take time"=2.214079ms] [job="ID:348, Type:drop view, State:done, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.696 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.708 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:348, Type:drop view, State:synced, SchemaState:queueing, SchemaID:331, TableID:335, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.696 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.709 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=348]
   > [2024/06/18 16:13:44.709 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.711 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:350, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:349, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.711 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.712 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:350, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:349, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.711 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t__l_jcb` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c6` AS `c0`,`ref_0`.`c3` AS `c1`,`ref_0`.`c3` AS `c2`,`ref_0`.`c0` AS `c3`,HEX(SUBSTR((`ref_0`.`c3` OR `ref_0`.`c3`), `ref_0`.`c5`, `ref_0`.`c7`)) AS `c4`,`ref_0`.`c2` AS `c5`,NTILE(26) OVER (PARTITION BY `ref_0`.`c6`, `ref_0`.`c7` ORDER BY `ref_0`.`c1`) AS `c6`,`ref_0`.`c1` AS `c7` FROM `testdb`.`t_ai_sq` AS `ref_0` WHERE `ref_0`.`c4` IS NULL */;"]
   > [2024/06/18 16:13:44.712 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:350, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:349, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.711 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.713 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=334] [neededSchemaVersion=335] ["start time"=273.363µs] [phyTblIDs="[349]"] [actionTypes="[2097152]"]
   > [2024/06/18 16:13:44.715 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=335] ["take time"=2.184815ms] [job="ID:350, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:349, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.711 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.716 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:350, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:349, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.711 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.716 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=350]
   > [2024/06/18 16:13:44.716 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.717 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=335] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.718 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:351, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.717 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.718 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:351, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.717 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"]
   > [2024/06/18 16:13:44.718 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:351, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.717 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.719 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=335] [neededSchemaVersion=336] ["start time"=50.077µs] [phyTblIDs="[337]"] [actionTypes="[16777216]"]
   > [2024/06/18 16:13:44.721 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=336] ["take time"=2.196478ms] [job="ID:351, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.717 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.721 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:351, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.717 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.722 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=336] [neededSchemaVersion=337] ["start time"=60.064µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.724 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=337] ["take time"=2.273165ms] [job="ID:351, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.717 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.725 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:351, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.717 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.726 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=337] [neededSchemaVersion=338] ["start time"=73.125µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.728 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=338] ["take time"=2.190192ms] [job="ID:351, Type:drop view, State:done, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.717 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.729 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:351, Type:drop view, State:synced, SchemaState:queueing, SchemaID:331, TableID:337, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.717 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.729 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=351]
   > [2024/06/18 16:13:44.729 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.732 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:353, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:352, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.731 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.732 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:353, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:352, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.731 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_ai_sq` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c5` AS `c0`,`ref_0`.`c1` AS `c1`,58 AS `c2`,`ref_0`.`c2` AS `c3`,`ref_0`.`c1` AS `c4`,`ref_0`.`c6` AS `c5`,((`ref_0`.`c0`+`ref_0`.`c6`)|`ref_0`.`c7`) AS `c6`,`ref_0`.`c4` AS `c7` FROM `testdb`.`t_897eid` AS `ref_0` WHERE (`ref_0`.`c7` BETWEEN `ref_0`.`c4` AND `ref_0`.`c0`) OR (`ref_0`.`c4` NOT IN (SELECT 88 AS `c0` FROM `testdb`.`t_897eid` AS `ref_1` WHERE `ref_1`.`c5` LIKE _UTF8MB4't%_cid' ORDER BY -`c0`)) */;"]
   > [2024/06/18 16:13:44.732 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:353, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:352, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.731 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.733 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=338] [neededSchemaVersion=339] ["start time"=231.598µs] [phyTblIDs="[352]"] [actionTypes="[2097152]"]
   > [2024/06/18 16:13:44.735 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=339] ["take time"=2.236288ms] [job="ID:353, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:352, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.731 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.736 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:353, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:352, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.731 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.737 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=353]
   > [2024/06/18 16:13:44.737 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.738 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=105] [schemaVersion=339] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/06/18 16:13:44.739 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:354, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.738 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.739 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:354, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.738 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"]
   > [2024/06/18 16:13:44.739 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:354, Type:drop view, State:none, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.738 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.741 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=339] [neededSchemaVersion=340] ["start time"=118.174µs] [phyTblIDs="[341]"] [actionTypes="[16777216]"]
   > [2024/06/18 16:13:44.743 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=340] ["take time"=2.236497ms] [job="ID:354, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.738 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.743 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:354, Type:drop view, State:running, SchemaState:write only, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.738 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.744 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=340] [neededSchemaVersion=341] ["start time"=90.585µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.747 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=341] ["take time"=2.742507ms] [job="ID:354, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.738 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.747 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:354, Type:drop view, State:running, SchemaState:delete only, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.738 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.749 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=341] [neededSchemaVersion=342] ["start time"=98.548µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/06/18 16:13:44.751 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=342] ["take time"=2.231329ms] [job="ID:354, Type:drop view, State:done, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.738 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.752 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:354, Type:drop view, State:synced, SchemaState:queueing, SchemaID:331, TableID:341, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.738 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.753 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=354]
   > [2024/06/18 16:13:44.753 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:44.756 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:356, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:355, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.755 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/06/18 16:13:44.756 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:356, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:355, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.755 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_gppivc` (`c0`, `c1`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c_s_x8wd` AS `c0`,NULLIF(`ref_0`.`c_hndnw`, `ref_0`.`c_to6g3c`) AS `c1`,(`ref_0`.`c_xlxih`-(`ref_0`.`c_xlxih`<<`ref_0`.`c_xlxih`)) AS `c3`,`ref_0`.`c_hndnw` AS `c4`,`ref_0`.`c_to6g3c` AS `c5`,`ref_0`.`c_xru7m` AS `c6`,`ref_0`.`c_xru7m` AS `c7` FROM `testdb`.`t_x0zovd` AS `ref_0` WHERE `ref_0`.`c_to6g3c` NOT IN (SELECT `ref_1`.`c_u2_5wc` AS `c0` FROM `testdb`.`t_fhw96d` AS `ref_1` WHERE `ref_1`.`c_bnoakb`!=`ref_1`.`c_bnoakb` AND (`ref_1`.`c_qm1ixc`>>`ref_1`.`c_gsj0eb`) IS NOT NULL) */;"]
   > [2024/06/18 16:13:44.756 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:356, Type:create view, State:none, SchemaState:queueing, SchemaID:331, TableID:355, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.755 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.757 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=342] [neededSchemaVersion=343] ["start time"=196.747µs] [phyTblIDs="[355]"] [actionTypes="[2097152]"]
   > [2024/06/18 16:13:44.759 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=343] ["take time"=2.320728ms] [job="ID:356, Type:create view, State:done, SchemaState:public, SchemaID:331, TableID:355, RowCount:0, ArgLen:3, start time: 2024-06-18 16:13:44.755 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.760 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:356, Type:create view, State:synced, SchemaState:public, SchemaID:331, TableID:355, RowCount:0, ArgLen:0, start time: 2024-06-18 16:13:44.755 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/06/18 16:13:44.761 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=356]
   > [2024/06/18 16:13:44.761 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/06/18 16:13:45.850 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=107] [user=root] [host=]
   > [2024/06/18 16:13:45.873 +00:00] [INFO] [set.go:139] ["set global var"] [conn=107] [name=tx_isolation] [val=REPEATABLE-READ]
   > [2024/06/18 16:13:46.382 +00:00] [ERROR] [conn.go:974] ["connection running loop panic"] [conn=107] [lastSQL=" WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c7 as c3, ref_0.c1 as c10 from t_ai_sq as ref_0 ) as subq_0 window w_ap1h0c as ( partition by subq_0.c3 order by (subq_0.c3 - case when subq_0.c10 in ( select null as c0) then subq_0.c3 else subq_0.c3 end ) desc)) select 1;"] [err="runtime error: invalid memory address or nil pointer dereference"] [stack="goroutine 9338 [running]:\ngithub.com/pingcap/tidb/server.(*clientConn).Run.func1()\n\t/go/src/github.com/pingcap/tidb/server/conn.go:972 +0x8f\npanic({0x367fc80, 0x5828510})\n\t/usr/local/go/src/runtime/panic.go:884 +0x212\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowSpec(0xc1419d14f8?, 0xc011429c20?, {0xc1419ba990?, 0x8?, 0xc134c037a8?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5618 +0x31\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowFuncs(0xc018bceea0, {0xc1415bc378, 0x1, 0x1?}, {0xc1419ba990, 0x1, 0x1})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5609 +0xf0\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWindowFunctions(0xc018bceea0, {0x400d6b0, 0xc1415c46c0}, {0x403f380, 0xc134c036c0}, 0x1?, {0xc1415bc368, 0x1, 0x1}, 0xc1419dc330)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5547 +0x2de\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc018bceea0, {0x400d6b0, 0xc1415c46c0}, 0xc134b40870)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3666 +0x1571\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildResultSetNode(0x0?, {0x400d6b0?, 0xc1415c46c0?}, {0x401ffa0?, 0xc134b40870?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:373 +0x2e5\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildCte(0xc018bceea0, {0x400d6b0?, 0xc1415c46c0?}, 0xc01773a180, 0x0?)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6128 +0x9d\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWith(0xc018bceea0, {0x400d6b0, 0xc1415c46c0}, 0xc000b52a00)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6370 +0x31f\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc018bceea0, {0x400d6b0, 0xc1415c46c0}, 0xc134b40b40)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3498 +0x519\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).Build(0xc018bceea0, {0x400d6b0, 0xc1415c46c0}, {0x401b268?, 0xc134b40b40?})\n\t/go/src/github.com/pingcap/tidb/planner/core/planbuilder.go:713 +0x6a5\ngithub.com/pingcap/tidb/planner.optimize({0x400d6b0, 0xc1415c46c0}, {0x40424f0, 0xc0146bc600}, {0x401b268, 0xc134b40b40?}, {0x4036fa0, 0xc0d68c6850})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:336 +0x48a\ngithub.com/pingcap/tidb/planner.Optimize({0x400d6b0, 0xc1415c46c0}, {0x40424f0?, 0xc0146bc600?}, {0x401b268, 0xc134b40b40}, {0x4036fa0, 0xc0d68c6850})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:220 +0xb30\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile(0xc1419d2f98, {0x400d6b0, 0xc1415c46c0}, {0x401fff0?, 0xc134b40b40})\n\t/go/src/github.com/pingcap/tidb/executor/compiler.go:66 +0x492\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt(0xc0146bc600, {0x400d6b0, 0xc1415c46c0}, {0x401fff0, 0xc134b40b40?})\n\t/go/src/github.com/pingcap/tidb/session/session.go:1559 +0x5fa\ngithub.com/pingcap/tidb/server.(*TiDBContext).ExecuteStmt(0xc13a0394d0, {0x400d6b0?, 0xc1415c46c0?}, {0x401fff0?, 0xc134b40b40?})\n\t/go/src/github.com/pingcap/tidb/server/driver_tidb.go:219 +0x44\ngithub.com/pingcap/tidb/server.(*clientConn).handleStmt(0xc1349543c0, {0x400d608, 0xc000b52900}, {0x401fff0, 0xc134b40b40}, {0x5f8a1a8, 0x0, 0x0}, 0x1)\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1906 +0x167\ngithub.com/pingcap/tidb/server.(*clientConn).handleQuery(0xc1349543c0, {0x400d608, 0xc000b52900}, {0xc0001f7041, 0x12e})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1775 +0x774\ngithub.com/pingcap/tidb/server.(*clientConn).dispatch(0xc1349543c0, {0x400d6b0, 0xc138eeb3e0?}, {0xc0001f7040, 0x12f, 0x12f})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1279 +0x1025\ngithub.com/pingcap/tidb/server.(*clientConn).Run(0xc1349543c0, {0x400d6b0, 0xc138eeb3e0})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1034 +0x253\ngithub.com/pingcap/tidb/server.(*Server).onConn(0xc000e3bad0, 0xc1349543c0)\n\t/go/src/github.com/pingcap/tidb/server/server.go:550 +0x6c5\ncreated by github.com/pingcap/tidb/server.(*Server).startNetworkListener\n\t/"]

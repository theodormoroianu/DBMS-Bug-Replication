# Bug ID TIDB-30804-REPEATABLE_READ

## Description

Link:                     https://github.com/pingcap/tidb/issues/30804
Original isolation level: REPEATABLE READ
Tested isolation level:   REPEATABLE READ
Description:              Looses connection to the server.


## Details
 * Database: tidb-v5.4.0
 * Number of scenarios: 2
 * Initial setup script: Yes

## Results
### Scenario 0
 * Instruction #0:
     - Instruction:  WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c...
     - Transaction: conn_0
     - Output: ERROR: 1105 (HY000): runtime error: invalid memory address or nil pointer dereference
     - Executed order: Not executed
 * Instruction #1:
     - Instruction:  select 1;
     - Transaction: conn_0
     - Output: ERROR: MySQL Connection not available.
     - Executed order: Not executed

 * Container logs:
   > [2024/07/02 13:08:41.494 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=5] [user=root] [host=]
   > [2024/07/02 13:08:41.497 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=28] [cur_db=] [sql="drop database if exists testdb;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.498 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=28] [cur_db=] [sql="create database testdb;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.499 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create schema, State:none, SchemaState:queueing, SchemaID:57, TableID:0, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:41.499 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.499 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:58, Type:create schema, State:none, SchemaState:queueing, SchemaID:57, TableID:0, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:41.499 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create database testdb;"]
   > [2024/07/02 13:08:41.500 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:58, Type:create schema, State:none, SchemaState:queueing, SchemaID:57, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.499 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.500 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=83.6µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:41.502 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=29] ["take time"=2.171879ms] [job="ID:58, Type:create schema, State:done, SchemaState:public, SchemaID:57, TableID:0, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:41.499 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.503 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:58, Type:create schema, State:synced, SchemaState:public, SchemaID:57, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.499 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.503 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=58]
   > [2024/07/02 13:08:41.503 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.558 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=29] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_897eid`\n--\n\nDROP TABLE IF EXISTS `t_897eid`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.558 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=29] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.560 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:59, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.56 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.560 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:60, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:59, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.56 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_897eid` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`,\n 1 AS `c8`,\n 1 AS `c9`*/;"]
   > [2024/07/02 13:08:41.561 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:60, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.56 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.563 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=327.838µs] [phyTblIDs="[59]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:41.565 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=30] ["take time"=2.210153ms] [job="ID:60, Type:create view, State:done, SchemaState:public, SchemaID:57, TableID:59, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.56 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.566 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:60, Type:create view, State:synced, SchemaState:public, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.56 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.566 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=60]
   > [2024/07/02 13:08:41.566 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.566 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=30] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t__l_jcb`\n--\n\nDROP TABLE IF EXISTS `t__l_jcb`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.567 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=30] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.568 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:61, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.567 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.568 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:62, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:61, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.567 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t__l_jcb` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/07/02 13:08:41.568 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:62, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.567 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.569 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=178.516µs] [phyTblIDs="[61]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:41.571 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=31] ["take time"=2.235575ms] [job="ID:62, Type:create view, State:done, SchemaState:public, SchemaID:57, TableID:61, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.567 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.572 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:62, Type:create view, State:synced, SchemaState:public, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.567 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.573 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=62]
   > [2024/07/02 13:08:41.573 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.573 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=31] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_ai_sq`\n--\n\nDROP TABLE IF EXISTS `t_ai_sq`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.574 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=31] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.576 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:63, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.575 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.576 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:64, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:63, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.575 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_ai_sq` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/07/02 13:08:41.576 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:64, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.575 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.578 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=362.759µs] [phyTblIDs="[63]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:41.580 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=32] ["take time"=2.232293ms] [job="ID:64, Type:create view, State:done, SchemaState:public, SchemaID:57, TableID:63, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.575 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.581 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:64, Type:create view, State:synced, SchemaState:public, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.575 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.582 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=64]
   > [2024/07/02 13:08:41.582 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.582 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=32] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_fhw96d`\n--\n\nDROP TABLE IF EXISTS `t_fhw96d`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.583 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=32] [cur_db=testdb] [sql="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.585 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:none, SchemaState:queueing, SchemaID:57, TableID:65, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:41.584 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.585 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:none, SchemaState:queueing, SchemaID:57, TableID:65, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:41.584 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/07/02 13:08:41.585 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:66, Type:create table, State:none, SchemaState:queueing, SchemaID:57, TableID:65, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.584 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.586 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=178.237µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
   > [2024/07/02 13:08:41.588 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=33] ["take time"=2.32197ms] [job="ID:66, Type:create table, State:done, SchemaState:public, SchemaID:57, TableID:65, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:41.584 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.589 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:57, TableID:65, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.584 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.590 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=66]
   > [2024/07/02 13:08:41.590 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.590 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=52] ["first split key"=748000000000000041]
   > [2024/07/02 13:08:41.591 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=33] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.592 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=33] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.592 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=33] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_gppivc`\n--\n\nDROP TABLE IF EXISTS `t_gppivc`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.592 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=33] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.594 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=54] ["first at"=748000000000000041] ["first new region left"="{Id:54 StartKey:7480000000000000ff3700000000000000f8 EndKey:7480000000000000ff4100000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:55 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/07/02 13:08:41.594 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[54]"]
   > [2024/07/02 13:08:41.594 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:67, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.594 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.594 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:68, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:67, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.594 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_gppivc` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/07/02 13:08:41.595 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:68, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.594 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.597 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=366.252µs] [phyTblIDs="[67]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:41.599 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=34] ["take time"=2.245004ms] [job="ID:68, Type:create view, State:done, SchemaState:public, SchemaID:57, TableID:67, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.594 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.599 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:68, Type:create view, State:synced, SchemaState:public, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.594 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.600 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=68]
   > [2024/07/02 13:08:41.600 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.600 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=34] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_x0zovd`\n--\n\nDROP TABLE IF EXISTS `t_x0zovd`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.601 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=34] [cur_db=testdb] [sql="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.601 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:none, SchemaState:queueing, SchemaID:57, TableID:69, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:41.601 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.601 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:none, SchemaState:queueing, SchemaID:57, TableID:69, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:41.601 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/07/02 13:08:41.602 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:70, Type:create table, State:none, SchemaState:queueing, SchemaID:57, TableID:69, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.601 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.602 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=162.662µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
   > [2024/07/02 13:08:41.604 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=35] ["take time"=2.055802ms] [job="ID:70, Type:create table, State:done, SchemaState:public, SchemaID:57, TableID:69, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:41.601 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.605 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:57, TableID:69, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.601 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.606 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=70]
   > [2024/07/02 13:08:41.606 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.606 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=54] ["first split key"=748000000000000045]
   > [2024/07/02 13:08:41.607 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=35] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.607 +00:00] [WARN] [2pc.go:1596] ["schemaLeaseChecker is not set for this transaction"] [sessionID=5] [startTS=450868208364945410] [commitTS=450868208364945411]
   > [2024/07/02 13:08:41.608 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=35] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.608 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=35] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.609 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=56] ["first at"=748000000000000045] ["first new region left"="{Id:56 StartKey:7480000000000000ff4100000000000000f8 EndKey:7480000000000000ff4500000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:57 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/07/02 13:08:41.609 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[56]"]
   > [2024/07/02 13:08:41.609 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.608 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.609 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:71, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.608 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"]
   > [2024/07/02 13:08:41.609 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:71, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.608 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.610 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=66.769µs] [phyTblIDs="[59]"] [actionTypes="[16777216]"]
   > [2024/07/02 13:08:41.612 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=36] ["take time"=2.258553ms] [job="ID:71, Type:drop view, State:running, SchemaState:write only, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.608 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.613 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:71, Type:drop view, State:running, SchemaState:write only, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.608 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.614 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=91.772µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:41.616 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=37] ["take time"=2.219232ms] [job="ID:71, Type:drop view, State:running, SchemaState:delete only, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.608 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.616 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:71, Type:drop view, State:running, SchemaState:delete only, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.608 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.618 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=67.747µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:41.620 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=38] ["take time"=2.582061ms] [job="ID:71, Type:drop view, State:done, SchemaState:queueing, SchemaID:57, TableID:59, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.608 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.621 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:71, Type:drop view, State:synced, SchemaState:queueing, SchemaID:57, TableID:59, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.608 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.622 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=71]
   > [2024/07/02 13:08:41.622 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.626 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:73, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:72, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.625 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.626 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:73, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:72, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.625 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_897eid` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`, `c8`, `c9`) AS SELECT `ref_0`.`c_bnoakb` AS `c0`,HEX(_UTF8MB4'z5wamb') AS `c1`,`ref_1`.`c_hndnw` AS `c2`,`ref_1`.`c_hndnw` AS `c3`,CASE WHEN (`ref_1`.`c_to6g3c` NOT LIKE _UTF8MB4'nez_xd') AND (`ref_0`.`c_u2_5wc` LIKE _UTF8MB4'belz%') THEN `ref_0`.`c_bnoakb` ELSE `ref_1`.`c_xlxih` END AS `c4`,`ref_1`.`c_xru7m` AS `c5`,`ref_1`.`c_s_x8wd` AS `c6`,`ref_0`.`c_bnoakb` AS `c7`,21 AS `c8`,`ref_0`.`c_u2_5wc` AS `c9` FROM `testdb`.`t_fhw96d` AS `ref_0` JOIN `testdb`.`t_x0zovd` AS `ref_1` WHERE `ref_1`.`c_hndnw` IS NULL */;"]
   > [2024/07/02 13:08:41.627 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:73, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:72, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.625 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.628 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=188.294µs] [phyTblIDs="[72]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:41.630 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=39] ["take time"=2.229219ms] [job="ID:73, Type:create view, State:done, SchemaState:public, SchemaID:57, TableID:72, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.625 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.632 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:73, Type:create view, State:synced, SchemaState:public, SchemaID:57, TableID:72, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.625 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.634 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=73]
   > [2024/07/02 13:08:41.634 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.635 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=39] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.636 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.636 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:74, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"]
   > [2024/07/02 13:08:41.636 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:74, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.637 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=52.102µs] [phyTblIDs="[61]"] [actionTypes="[16777216]"]
   > [2024/07/02 13:08:41.639 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=40] ["take time"=2.222724ms] [job="ID:74, Type:drop view, State:running, SchemaState:write only, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.640 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:74, Type:drop view, State:running, SchemaState:write only, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.641 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=71.448µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:41.644 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=41] ["take time"=3.060899ms] [job="ID:74, Type:drop view, State:running, SchemaState:delete only, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.644 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:74, Type:drop view, State:running, SchemaState:delete only, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.646 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=109.861µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:41.648 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=42] ["take time"=2.258553ms] [job="ID:74, Type:drop view, State:done, SchemaState:queueing, SchemaID:57, TableID:61, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.649 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:74, Type:drop view, State:synced, SchemaState:queueing, SchemaID:57, TableID:61, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.635 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.650 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=74]
   > [2024/07/02 13:08:41.650 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.653 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:75, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.652 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.653 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:76, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:75, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.652 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t__l_jcb` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c6` AS `c0`,`ref_0`.`c3` AS `c1`,`ref_0`.`c3` AS `c2`,`ref_0`.`c0` AS `c3`,HEX(SUBSTR((`ref_0`.`c3` OR `ref_0`.`c3`), `ref_0`.`c5`, `ref_0`.`c7`)) AS `c4`,`ref_0`.`c2` AS `c5`,NTILE(26) OVER (PARTITION BY `ref_0`.`c6`, `ref_0`.`c7` ORDER BY `ref_0`.`c1`) AS `c6`,`ref_0`.`c1` AS `c7` FROM `testdb`.`t_ai_sq` AS `ref_0` WHERE `ref_0`.`c4` IS NULL */;"]
   > [2024/07/02 13:08:41.653 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:76, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:75, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.652 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.654 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=202.193µs] [phyTblIDs="[75]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:41.656 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=43] ["take time"=2.257505ms] [job="ID:76, Type:create view, State:done, SchemaState:public, SchemaID:57, TableID:75, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.652 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.657 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:76, Type:create view, State:synced, SchemaState:public, SchemaID:57, TableID:75, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.652 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.658 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=76]
   > [2024/07/02 13:08:41.658 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.658 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=43] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.659 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:77, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.659 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:77, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"]
   > [2024/07/02 13:08:41.660 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:77, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.661 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=69.633µs] [phyTblIDs="[63]"] [actionTypes="[16777216]"]
   > [2024/07/02 13:08:41.663 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=44] ["take time"=2.182774ms] [job="ID:77, Type:drop view, State:running, SchemaState:write only, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.663 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:77, Type:drop view, State:running, SchemaState:write only, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.664 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=99.316µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:41.666 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=45] ["take time"=2.534359ms] [job="ID:77, Type:drop view, State:running, SchemaState:delete only, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.666 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:77, Type:drop view, State:running, SchemaState:delete only, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.668 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=71.518µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:41.671 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=46] ["take time"=2.696952ms] [job="ID:77, Type:drop view, State:done, SchemaState:queueing, SchemaID:57, TableID:63, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.671 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:77, Type:drop view, State:synced, SchemaState:queueing, SchemaID:57, TableID:63, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.659 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.673 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=77]
   > [2024/07/02 13:08:41.673 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.677 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:79, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:78, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.676 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.677 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:79, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:78, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.676 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_ai_sq` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c5` AS `c0`,`ref_0`.`c1` AS `c1`,58 AS `c2`,`ref_0`.`c2` AS `c3`,`ref_0`.`c1` AS `c4`,`ref_0`.`c6` AS `c5`,((`ref_0`.`c0`+`ref_0`.`c6`)|`ref_0`.`c7`) AS `c6`,`ref_0`.`c4` AS `c7` FROM `testdb`.`t_897eid` AS `ref_0` WHERE (`ref_0`.`c7` BETWEEN `ref_0`.`c4` AND `ref_0`.`c0`) OR (`ref_0`.`c4` NOT IN (SELECT 88 AS `c0` FROM `testdb`.`t_897eid` AS `ref_1` WHERE `ref_1`.`c5` LIKE _UTF8MB4't%_cid' ORDER BY -`c0`)) */;"]
   > [2024/07/02 13:08:41.678 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:79, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:78, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.676 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.680 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=445.452µs] [phyTblIDs="[78]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:41.682 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=47] ["take time"=2.394257ms] [job="ID:79, Type:create view, State:done, SchemaState:public, SchemaID:57, TableID:78, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.676 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.683 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:79, Type:create view, State:synced, SchemaState:public, SchemaID:57, TableID:78, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.676 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.684 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=79]
   > [2024/07/02 13:08:41.684 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.685 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=47] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:41.686 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:80, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.685 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.686 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:80, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.685 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"]
   > [2024/07/02 13:08:41.686 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:80, Type:drop view, State:none, SchemaState:queueing, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.685 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.688 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=274.828µs] [phyTblIDs="[67]"] [actionTypes="[16777216]"]
   > [2024/07/02 13:08:41.689 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=48] ["take time"=2.245143ms] [job="ID:80, Type:drop view, State:running, SchemaState:write only, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.685 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.690 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:80, Type:drop view, State:running, SchemaState:write only, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.685 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.691 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=74.661µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:41.694 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=49] ["take time"=2.729708ms] [job="ID:80, Type:drop view, State:running, SchemaState:delete only, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.685 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.694 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:80, Type:drop view, State:running, SchemaState:delete only, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.685 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.696 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=49] [neededSchemaVersion=50] ["start time"=87.931µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:41.698 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=50] ["take time"=2.621383ms] [job="ID:80, Type:drop view, State:done, SchemaState:queueing, SchemaID:57, TableID:67, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.685 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.699 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:80, Type:drop view, State:synced, SchemaState:queueing, SchemaID:57, TableID:67, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.685 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.700 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=80]
   > [2024/07/02 13:08:41.700 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:41.703 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:82, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:81, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.703 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:41.703 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:82, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:81, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.703 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_gppivc` (`c0`, `c1`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c_s_x8wd` AS `c0`,NULLIF(`ref_0`.`c_hndnw`, `ref_0`.`c_to6g3c`) AS `c1`,(`ref_0`.`c_xlxih`-(`ref_0`.`c_xlxih`<<`ref_0`.`c_xlxih`)) AS `c3`,`ref_0`.`c_hndnw` AS `c4`,`ref_0`.`c_to6g3c` AS `c5`,`ref_0`.`c_xru7m` AS `c6`,`ref_0`.`c_xru7m` AS `c7` FROM `testdb`.`t_x0zovd` AS `ref_0` WHERE `ref_0`.`c_to6g3c` NOT IN (SELECT `ref_1`.`c_u2_5wc` AS `c0` FROM `testdb`.`t_fhw96d` AS `ref_1` WHERE `ref_1`.`c_bnoakb`!=`ref_1`.`c_bnoakb` AND (`ref_1`.`c_qm1ixc`>>`ref_1`.`c_gsj0eb`) IS NOT NULL) */;"]
   > [2024/07/02 13:08:41.704 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:82, Type:create view, State:none, SchemaState:queueing, SchemaID:57, TableID:81, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.703 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.706 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=50] [neededSchemaVersion=51] ["start time"=377.985µs] [phyTblIDs="[81]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:41.708 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=51] ["take time"=2.276153ms] [job="ID:82, Type:create view, State:done, SchemaState:public, SchemaID:57, TableID:81, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:41.703 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.709 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:82, Type:create view, State:synced, SchemaState:public, SchemaID:57, TableID:81, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:41.703 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:41.711 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=82]
   > [2024/07/02 13:08:41.711 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:42.813 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=7] [user=root] [host=]
   > [2024/07/02 13:08:42.820 +00:00] [ERROR] [conn.go:974] ["connection running loop panic"] [conn=7] [lastSQL=" WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c7 as c3, ref_0.c1 as c10 from t_ai_sq as ref_0 ) as subq_0 window w_ap1h0c as ( partition by subq_0.c3 order by (subq_0.c3 - case when subq_0.c10 in ( select null as c0) then subq_0.c3 else subq_0.c3 end ) desc)) select 1;"] [err="runtime error: invalid memory address or nil pointer dereference"] [stack="goroutine 937 [running]:\ngithub.com/pingcap/tidb/server.(*clientConn).Run.func1()\n\t/go/src/github.com/pingcap/tidb/server/conn.go:972 +0x8f\npanic({0x367fc80, 0x5828510})\n\t/usr/local/go/src/runtime/panic.go:884 +0x212\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowSpec(0xc010b4f4f8?, 0xc010b22780?, {0xc0059bc550?, 0x8?, 0xc01097eb68?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5618 +0x31\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowFuncs(0xc00089e820, {0xc010aeeb60, 0x1, 0x1?}, {0xc0059bc550, 0x1, 0x1})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5609 +0xf0\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWindowFunctions(0xc00089e820, {0x400d6b0, 0xc01097ccf0}, {0x403f380, 0xc01097ea80}, 0x1?, {0xc010aeeb50, 0x1, 0x1}, 0xc010b02840)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5547 +0x2de\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc00089e820, {0x400d6b0, 0xc01097ccf0}, 0xc000449d10)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3666 +0x1571\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildResultSetNode(0x0?, {0x400d6b0?, 0xc01097ccf0?}, {0x401ffa0?, 0xc000449d10?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:373 +0x2e5\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildCte(0xc00089e820, {0x400d6b0?, 0xc01097ccf0?}, 0xc010b1cfc0, 0x0?)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6128 +0x9d\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWith(0xc00089e820, {0x400d6b0, 0xc01097ccf0}, 0xc010774780)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6370 +0x31f\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc00089e820, {0x400d6b0, 0xc01097ccf0}, 0xc0059dad20)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3498 +0x519\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).Build(0xc00089e820, {0x400d6b0, 0xc01097ccf0}, {0x401b268?, 0xc0059dad20?})\n\t/go/src/github.com/pingcap/tidb/planner/core/planbuilder.go:713 +0x6a5\ngithub.com/pingcap/tidb/planner.optimize({0x400d6b0, 0xc01097ccf0}, {0x40424f0, 0xc0059e8a00}, {0x401b268, 0xc0059dad20?}, {0x4036fa0, 0xc0105f1180})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:336 +0x48a\ngithub.com/pingcap/tidb/planner.Optimize({0x400d6b0, 0xc01097ccf0}, {0x40424f0?, 0xc0059e8a00?}, {0x401b268, 0xc0059dad20}, {0x4036fa0, 0xc0105f1180})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:220 +0xb30\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile(0xc010b50f98, {0x400d6b0, 0xc01097ccf0}, {0x401fff0?, 0xc0059dad20})\n\t/go/src/github.com/pingcap/tidb/executor/compiler.go:66 +0x492\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt(0xc0059e8a00, {0x400d6b0, 0xc01097ccf0}, {0x401fff0, 0xc0059dad20?})\n\t/go/src/github.com/pingcap/tidb/session/session.go:1559 +0x5fa\ngithub.com/pingcap/tidb/server.(*TiDBContext).ExecuteStmt(0xc000bd3ef0, {0x400d6b0?, 0xc01097ccf0?}, {0x401fff0?, 0xc0059dad20?})\n\t/go/src/github.com/pingcap/tidb/server/driver_tidb.go:219 +0x44\ngithub.com/pingcap/tidb/server.(*clientConn).handleStmt(0xc01094b180, {0x400d608, 0xc010774680}, {0x401fff0, 0xc0059dad20}, {0x5f8a1a8, 0x0, 0x0}, 0x1)\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1906 +0x167\ngithub.com/pingcap/tidb/server.(*clientConn).handleQuery(0xc01094b180, {0x400d608, 0xc010774680}, {0xc010005181, 0x12e})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1775 +0x774\ngithub.com/pingcap/tidb/server.(*clientConn).dispatch(0xc01094b180, {0x400d6b0, 0xc00fbdc240?}, {0xc010005180, 0x12f, 0x12f})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1279 +0x1025\ngithub.com/pingcap/tidb/server.(*clientConn).Run(0xc01094b180, {0x400d6b0, 0xc00fbdc240})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1034 +0x253\ngithub.com/pingcap/tidb/server.(*Server).onConn(0xc0105da0d0, 0xc01094b180)\n\t/go/src/github.com/pingcap/tidb/server/server.go:550 +0x6c5\ncreated by github.com/pingcap/tidb/server.(*Server).startNetworkListener\n\t/g"]

### Scenario 1
 * Instruction #0:
     - Instruction:  SET GLOBAL TRANSACTION ISOLATION LEVEL REPEATABLE READ;
     - Transaction: conn_0
     - Output: None
     - Executed order: 0
 * Instruction #1:
     - Instruction:  start transaction;
     - Transaction: conn_0
     - Output: None
     - Executed order: 1
 * Instruction #2:
     - Instruction:  WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c...
     - Transaction: conn_0
     - Output: ERROR: 1105 (HY000): runtime error: invalid memory address or nil pointer dereference
     - Executed order: Not executed
 * Instruction #3:
     - Instruction:  select 1;
     - Transaction: conn_0
     - Output: ERROR: MySQL Connection not available.
     - Executed order: Not executed
 * Instruction #4:
     - Instruction:  commit;
     - Transaction: conn_0
     - Output: ERROR: MySQL Connection not available.
     - Executed order: Not executed

 * Container logs:
   > [2024/07/02 13:08:43.829 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=11] [user=root] [host=]
   > [2024/07/02 13:08:43.832 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=59] [cur_db=] [sql="drop database if exists testdb;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.833 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:89, Type:drop schema, State:none, SchemaState:queueing, SchemaID:84, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.832 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.833 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:89, Type:drop schema, State:none, SchemaState:queueing, SchemaID:84, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.832 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop database if exists testdb;"]
   > [2024/07/02 13:08:43.834 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:89, Type:drop schema, State:none, SchemaState:queueing, SchemaID:84, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.832 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.835 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=59] [neededSchemaVersion=60] ["start time"=106.23µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.837 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=60] ["take time"=2.28188ms] [job="ID:89, Type:drop schema, State:running, SchemaState:write only, SchemaID:84, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.832 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.837 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:89, Type:drop schema, State:running, SchemaState:write only, SchemaID:84, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.832 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.838 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=60] [neededSchemaVersion=61] ["start time"=104.414µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.840 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=61] ["take time"=2.267423ms] [job="ID:89, Type:drop schema, State:running, SchemaState:delete only, SchemaID:84, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.832 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.840 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:89, Type:drop schema, State:running, SchemaState:delete only, SchemaID:84, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.832 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.842 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=61] [neededSchemaVersion=62] ["start time"=117.335µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.844 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=62] ["take time"=2.256318ms] [job="ID:89, Type:drop schema, State:done, SchemaState:queueing, SchemaID:84, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.832 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.844 +00:00] [INFO] [delete_range.go:107] ["[ddl] add job into delete-range table"] [jobID=89] [jobType="drop schema"]
   > [2024/07/02 13:08:43.844 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:89, Type:drop schema, State:synced, SchemaState:queueing, SchemaID:84, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.832 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.845 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=89]
   > [2024/07/02 13:08:43.845 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.846 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=62] [cur_db=] [sql="create database testdb;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.848 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:91, Type:create schema, State:none, SchemaState:queueing, SchemaID:90, TableID:0, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:43.847 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.848 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:91, Type:create schema, State:none, SchemaState:queueing, SchemaID:90, TableID:0, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:43.847 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create database testdb;"]
   > [2024/07/02 13:08:43.848 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:91, Type:create schema, State:none, SchemaState:queueing, SchemaID:90, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.847 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.849 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=62] [neededSchemaVersion=63] ["start time"=88.28µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.851 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=63] ["take time"=2.267074ms] [job="ID:91, Type:create schema, State:done, SchemaState:public, SchemaID:90, TableID:0, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:43.847 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.851 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:91, Type:create schema, State:synced, SchemaState:public, SchemaID:90, TableID:0, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.847 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.852 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=91]
   > [2024/07/02 13:08:43.852 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.859 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=63] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_897eid`\n--\n\nDROP TABLE IF EXISTS `t_897eid`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.859 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=63] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.861 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:93, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:92, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.86 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.861 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:93, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:92, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.86 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_897eid` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`,\n 1 AS `c8`,\n 1 AS `c9`*/;"]
   > [2024/07/02 13:08:43.862 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:93, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.86 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.865 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=63] [neededSchemaVersion=64] ["start time"=552.52µs] [phyTblIDs="[92]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:43.866 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=64] ["take time"=2.267772ms] [job="ID:93, Type:create view, State:done, SchemaState:public, SchemaID:90, TableID:92, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.86 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.868 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:93, Type:create view, State:synced, SchemaState:public, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.86 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.869 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=93]
   > [2024/07/02 13:08:43.869 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.870 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=64] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t__l_jcb`\n--\n\nDROP TABLE IF EXISTS `t__l_jcb`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.870 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=64] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.872 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:95, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:94, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.872 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.872 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:95, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:94, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.872 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t__l_jcb` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/07/02 13:08:43.873 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:95, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.872 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.875 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=64] [neededSchemaVersion=65] ["start time"=432.811µs] [phyTblIDs="[94]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:43.877 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=65] ["take time"=2.260718ms] [job="ID:95, Type:create view, State:done, SchemaState:public, SchemaID:90, TableID:94, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.872 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.878 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:95, Type:create view, State:synced, SchemaState:public, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.872 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.879 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=95]
   > [2024/07/02 13:08:43.880 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.880 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=65] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_ai_sq`\n--\n\nDROP TABLE IF EXISTS `t_ai_sq`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.881 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=65] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.883 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:97, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:96, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.882 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.883 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:97, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:96, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.882 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_ai_sq` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c2`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/07/02 13:08:43.884 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:97, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.882 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.887 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=65] [neededSchemaVersion=66] ["start time"=529.962µs] [phyTblIDs="[96]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:43.889 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=66] ["take time"=2.95844ms] [job="ID:97, Type:create view, State:done, SchemaState:public, SchemaID:90, TableID:96, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.882 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.890 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:97, Type:create view, State:synced, SchemaState:public, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.882 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.892 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=97]
   > [2024/07/02 13:08:43.892 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.892 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=66] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_fhw96d`\n--\n\nDROP TABLE IF EXISTS `t_fhw96d`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.893 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=66] [cur_db=testdb] [sql="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.895 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:99, Type:create table, State:none, SchemaState:queueing, SchemaID:90, TableID:98, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:43.894 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.895 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:99, Type:create table, State:none, SchemaState:queueing, SchemaID:90, TableID:98, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:43.894 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_fhw96d` (\n  `c_gsj0eb` int(11) DEFAULT NULL,\n  `c_wh8ptc` double DEFAULT NULL,\n  `c_bnoakb` int(11) DEFAULT NULL,\n  `c_ny8gr` double DEFAULT NULL,\n  `c_rxsigd` double DEFAULT NULL,\n  `c_cqgvo` double DEFAULT NULL,\n  `c_ncaqz` int(11) NOT NULL,\n  `c_qm1ixc` int(11) DEFAULT NULL,\n  `c_u2_5wc` text DEFAULT NULL,\n  PRIMARY KEY (`c_ncaqz`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/07/02 13:08:43.895 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:99, Type:create table, State:none, SchemaState:queueing, SchemaID:90, TableID:98, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.894 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.896 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=66] [neededSchemaVersion=67] ["start time"=198.98µs] [phyTblIDs="[98]"] [actionTypes="[8]"]
   > [2024/07/02 13:08:43.898 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=67] ["take time"=2.263232ms] [job="ID:99, Type:create table, State:done, SchemaState:public, SchemaID:90, TableID:98, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:43.894 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.900 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:99, Type:create table, State:synced, SchemaState:public, SchemaID:90, TableID:98, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.894 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.901 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=99]
   > [2024/07/02 13:08:43.901 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.901 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=60] ["first split key"=748000000000000062]
   > [2024/07/02 13:08:43.902 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=60] ["first at"=748000000000000062] ["first new region left"="{Id:60 StartKey:7480000000000000ff5600000000000000f8 EndKey:7480000000000000ff6200000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:61 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/07/02 13:08:43.902 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[60]"]
   > [2024/07/02 13:08:43.902 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=67] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.904 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=67] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_fhw96d` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.904 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=67] [cur_db=testdb] [sql="\n--\n-- Temporary view structure for view `t_gppivc`\n--\n\nDROP TABLE IF EXISTS `t_gppivc`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.904 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=67] [cur_db=testdb] [sql="/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.907 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:101, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:100, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.906 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.907 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:101, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:100, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.906 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE VIEW `t_gppivc` AS SELECT \n 1 AS `c0`,\n 1 AS `c1`,\n 1 AS `c3`,\n 1 AS `c4`,\n 1 AS `c5`,\n 1 AS `c6`,\n 1 AS `c7`*/;"]
   > [2024/07/02 13:08:43.907 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:101, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.906 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.910 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=67] [neededSchemaVersion=68] ["start time"=473.25µs] [phyTblIDs="[100]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:43.911 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=68] ["take time"=2.243257ms] [job="ID:101, Type:create view, State:done, SchemaState:public, SchemaID:90, TableID:100, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.906 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.912 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:101, Type:create view, State:synced, SchemaState:public, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.906 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.914 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=101]
   > [2024/07/02 13:08:43.914 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.914 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=68] [cur_db=testdb] [sql="\n--\n-- Table structure for table `t_x0zovd`\n--\n\nDROP TABLE IF EXISTS `t_x0zovd`;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.915 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=68] [cur_db=testdb] [sql="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.916 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:103, Type:create table, State:none, SchemaState:queueing, SchemaID:90, TableID:102, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:43.915 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.916 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:103, Type:create table, State:none, SchemaState:queueing, SchemaID:90, TableID:102, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:43.915 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE `t_x0zovd` (\n  `c_s_x8wd` int(11) DEFAULT NULL,\n  `c_xru7m` text DEFAULT NULL,\n  `c_3nbzub` double NOT NULL,\n  `c_xlxih` int(11) DEFAULT NULL,\n  `c_to6g3c` text DEFAULT NULL,\n  `c_hndnw` text DEFAULT NULL,\n  PRIMARY KEY (`c_3nbzub`) /*T![clustered_index] NONCLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
   > [2024/07/02 13:08:43.917 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:103, Type:create table, State:none, SchemaState:queueing, SchemaID:90, TableID:102, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.915 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.919 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=68] [neededSchemaVersion=69] ["start time"=492.806µs] [phyTblIDs="[102]"] [actionTypes="[8]"]
   > [2024/07/02 13:08:43.920 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=69] ["take time"=2.259112ms] [job="ID:103, Type:create table, State:done, SchemaState:public, SchemaID:90, TableID:102, RowCount:0, ArgLen:1, start time: 2024-07-02 13:08:43.915 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.922 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:103, Type:create table, State:synced, SchemaState:public, SchemaID:90, TableID:102, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.915 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.923 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=103]
   > [2024/07/02 13:08:43.923 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.923 +00:00] [INFO] [split_region.go:85] ["split batch regions request"] ["split key count"=1] ["batch count"=1] ["first batch, region ID"=62] ["first split key"=748000000000000066]
   > [2024/07/02 13:08:43.924 +00:00] [INFO] [split_region.go:186] ["batch split regions complete"] ["batch region ID"=62] ["first at"=748000000000000066] ["first new region left"="{Id:62 StartKey:7480000000000000ff6200000000000000f8 EndKey:7480000000000000ff6600000000000000f8 RegionEpoch:{ConfVer:1 Version:2} Peers:[id:63 store_id:1 ] EncryptionMeta:<nil>}"] ["new region count"=1]
   > [2024/07/02 13:08:43.924 +00:00] [INFO] [split_region.go:235] ["split regions complete"] ["region count"=1] ["region IDs"="[62]"]
   > [2024/07/02 13:08:43.924 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=69] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` DISABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.925 +00:00] [WARN] [2pc.go:1596] ["schemaLeaseChecker is not set for this transaction"] [sessionID=11] [startTS=450868208972333059] [commitTS=450868208972595200]
   > [2024/07/02 13:08:43.926 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=69] [cur_db=testdb] [sql="/*!40000 ALTER TABLE `t_x0zovd` ENABLE KEYS */;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.926 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=69] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.927 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:104, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.926 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.927 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:104, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.926 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_897eid`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_897eid`*/;"]
   > [2024/07/02 13:08:43.927 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:104, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.926 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.929 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=69] [neededSchemaVersion=70] ["start time"=112.516µs] [phyTblIDs="[92]"] [actionTypes="[16777216]"]
   > [2024/07/02 13:08:43.931 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=70] ["take time"=2.25513ms] [job="ID:104, Type:drop view, State:running, SchemaState:write only, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.926 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.931 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:104, Type:drop view, State:running, SchemaState:write only, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.926 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.933 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=70] [neededSchemaVersion=71] ["start time"=147.296µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.935 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=71] ["take time"=2.723772ms] [job="ID:104, Type:drop view, State:running, SchemaState:delete only, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.926 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.936 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:104, Type:drop view, State:running, SchemaState:delete only, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.926 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.937 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=71] [neededSchemaVersion=72] ["start time"=101.69µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.940 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=72] ["take time"=2.77294ms] [job="ID:104, Type:drop view, State:done, SchemaState:queueing, SchemaID:90, TableID:92, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.926 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.941 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:104, Type:drop view, State:synced, SchemaState:queueing, SchemaID:90, TableID:92, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.926 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.941 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=104]
   > [2024/07/02 13:08:43.941 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.944 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:106, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:105, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.943 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.944 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:106, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:105, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.943 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_897eid` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`, `c8`, `c9`) AS SELECT `ref_0`.`c_bnoakb` AS `c0`,HEX(_UTF8MB4'z5wamb') AS `c1`,`ref_1`.`c_hndnw` AS `c2`,`ref_1`.`c_hndnw` AS `c3`,CASE WHEN (`ref_1`.`c_to6g3c` NOT LIKE _UTF8MB4'nez_xd') AND (`ref_0`.`c_u2_5wc` LIKE _UTF8MB4'belz%') THEN `ref_0`.`c_bnoakb` ELSE `ref_1`.`c_xlxih` END AS `c4`,`ref_1`.`c_xru7m` AS `c5`,`ref_1`.`c_s_x8wd` AS `c6`,`ref_0`.`c_bnoakb` AS `c7`,21 AS `c8`,`ref_0`.`c_u2_5wc` AS `c9` FROM `testdb`.`t_fhw96d` AS `ref_0` JOIN `testdb`.`t_x0zovd` AS `ref_1` WHERE `ref_1`.`c_hndnw` IS NULL */;"]
   > [2024/07/02 13:08:43.944 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:106, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:105, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.943 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.947 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=72] [neededSchemaVersion=73] ["start time"=409.973µs] [phyTblIDs="[105]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:43.949 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=73] ["take time"=2.268191ms] [job="ID:106, Type:create view, State:done, SchemaState:public, SchemaID:90, TableID:105, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.943 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.950 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:106, Type:create view, State:synced, SchemaState:public, SchemaID:90, TableID:105, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.943 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.952 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=106]
   > [2024/07/02 13:08:43.952 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.953 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=73] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.954 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:107, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.953 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.954 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:107, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.953 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t__l_jcb`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t__l_jcb`*/;"]
   > [2024/07/02 13:08:43.954 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:107, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.953 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.956 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=73] [neededSchemaVersion=74] ["start time"=117.754µs] [phyTblIDs="[94]"] [actionTypes="[16777216]"]
   > [2024/07/02 13:08:43.958 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=74] ["take time"=2.320433ms] [job="ID:107, Type:drop view, State:running, SchemaState:write only, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.953 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.958 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:107, Type:drop view, State:running, SchemaState:write only, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.953 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.960 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=74] [neededSchemaVersion=75] ["start time"=174.955µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.962 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=75] ["take time"=2.94119ms] [job="ID:107, Type:drop view, State:running, SchemaState:delete only, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.953 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.963 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:107, Type:drop view, State:running, SchemaState:delete only, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.953 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.964 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=75] [neededSchemaVersion=76] ["start time"=113.494µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.966 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=76] ["take time"=2.256807ms] [job="ID:107, Type:drop view, State:done, SchemaState:queueing, SchemaID:90, TableID:94, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.953 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.967 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:107, Type:drop view, State:synced, SchemaState:queueing, SchemaID:90, TableID:94, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.953 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.969 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=107]
   > [2024/07/02 13:08:43.969 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.972 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:109, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:108, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.971 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.972 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:109, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:108, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.971 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t__l_jcb` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c6` AS `c0`,`ref_0`.`c3` AS `c1`,`ref_0`.`c3` AS `c2`,`ref_0`.`c0` AS `c3`,HEX(SUBSTR((`ref_0`.`c3` OR `ref_0`.`c3`), `ref_0`.`c5`, `ref_0`.`c7`)) AS `c4`,`ref_0`.`c2` AS `c5`,NTILE(26) OVER (PARTITION BY `ref_0`.`c6`, `ref_0`.`c7` ORDER BY `ref_0`.`c1`) AS `c6`,`ref_0`.`c1` AS `c7` FROM `testdb`.`t_ai_sq` AS `ref_0` WHERE `ref_0`.`c4` IS NULL */;"]
   > [2024/07/02 13:08:43.972 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:109, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:108, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.971 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.974 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=76] [neededSchemaVersion=77] ["start time"=209.386µs] [phyTblIDs="[108]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:43.976 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=77] ["take time"=2.248705ms] [job="ID:109, Type:create view, State:done, SchemaState:public, SchemaID:90, TableID:108, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.971 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.977 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:109, Type:create view, State:synced, SchemaState:public, SchemaID:90, TableID:108, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.971 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.978 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=109]
   > [2024/07/02 13:08:43.978 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:43.979 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=77] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:43.980 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:110, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.979 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:43.980 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:110, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.979 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_ai_sq`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_ai_sq`*/;"]
   > [2024/07/02 13:08:43.980 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:110, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.979 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.982 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=77] [neededSchemaVersion=78] ["start time"=132.56µs] [phyTblIDs="[96]"] [actionTypes="[16777216]"]
   > [2024/07/02 13:08:43.985 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=78] ["take time"=2.912274ms] [job="ID:110, Type:drop view, State:running, SchemaState:write only, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.979 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.985 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:110, Type:drop view, State:running, SchemaState:write only, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.979 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.986 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=78] [neededSchemaVersion=79] ["start time"=132.56µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.989 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=79] ["take time"=2.825181ms] [job="ID:110, Type:drop view, State:running, SchemaState:delete only, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.979 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.989 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:110, Type:drop view, State:running, SchemaState:delete only, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.979 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.991 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=79] [neededSchemaVersion=80] ["start time"=109.512µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:43.993 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=80] ["take time"=2.38804ms] [job="ID:110, Type:drop view, State:done, SchemaState:queueing, SchemaID:90, TableID:96, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.979 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.994 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:110, Type:drop view, State:synced, SchemaState:queueing, SchemaID:90, TableID:96, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.979 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:43.996 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=110]
   > [2024/07/02 13:08:43.996 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:44.000 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:112, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:111, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.999 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:44.000 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:112, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:111, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.999 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_ai_sq` (`c0`, `c1`, `c2`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c5` AS `c0`,`ref_0`.`c1` AS `c1`,58 AS `c2`,`ref_0`.`c2` AS `c3`,`ref_0`.`c1` AS `c4`,`ref_0`.`c6` AS `c5`,((`ref_0`.`c0`+`ref_0`.`c6`)|`ref_0`.`c7`) AS `c6`,`ref_0`.`c4` AS `c7` FROM `testdb`.`t_897eid` AS `ref_0` WHERE (`ref_0`.`c7` BETWEEN `ref_0`.`c4` AND `ref_0`.`c0`) OR (`ref_0`.`c4` NOT IN (SELECT 88 AS `c0` FROM `testdb`.`t_897eid` AS `ref_1` WHERE `ref_1`.`c5` LIKE _UTF8MB4't%_cid' ORDER BY -`c0`)) */;"]
   > [2024/07/02 13:08:44.000 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:112, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:111, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.999 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.003 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=80] [neededSchemaVersion=81] ["start time"=496.298µs] [phyTblIDs="[111]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:44.004 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=81] ["take time"=2.231734ms] [job="ID:112, Type:create view, State:done, SchemaState:public, SchemaID:90, TableID:111, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:43.999 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.006 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:112, Type:create view, State:synced, SchemaState:public, SchemaID:90, TableID:111, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:43.999 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.007 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=112]
   > [2024/07/02 13:08:44.007 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:44.008 +00:00] [INFO] [session.go:2865] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=81] [cur_db=testdb] [sql="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"] [user=root@127.0.0.1]
   > [2024/07/02 13:08:44.009 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:113, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.008 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:44.009 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:113, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.008 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="\n--\n-- Final view structure for view `t_gppivc`\n--\n\n/*!50001 DROP VIEW IF EXISTS `t_gppivc`*/;"]
   > [2024/07/02 13:08:44.009 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:113, Type:drop view, State:none, SchemaState:queueing, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.008 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.011 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=81] [neededSchemaVersion=82] ["start time"=99.595µs] [phyTblIDs="[100]"] [actionTypes="[16777216]"]
   > [2024/07/02 13:08:44.013 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=82] ["take time"=2.245353ms] [job="ID:113, Type:drop view, State:running, SchemaState:write only, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.008 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.013 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:113, Type:drop view, State:running, SchemaState:write only, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.008 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.015 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=82] [neededSchemaVersion=83] ["start time"=144.084µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:44.017 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=83] ["take time"=2.236134ms] [job="ID:113, Type:drop view, State:running, SchemaState:delete only, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.008 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.017 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:113, Type:drop view, State:running, SchemaState:delete only, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.008 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.019 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=83] [neededSchemaVersion=84] ["start time"=147.017µs] [phyTblIDs="[]"] [actionTypes="[]"]
   > [2024/07/02 13:08:44.021 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=84] ["take time"=2.493153ms] [job="ID:113, Type:drop view, State:done, SchemaState:queueing, SchemaID:90, TableID:100, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:44.008 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.022 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:113, Type:drop view, State:synced, SchemaState:queueing, SchemaID:90, TableID:100, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.008 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.023 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=113]
   > [2024/07/02 13:08:44.023 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:44.025 +00:00] [INFO] [ddl_worker.go:313] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:115, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:114, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:44.024 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
   > [2024/07/02 13:08:44.025 +00:00] [INFO] [ddl.go:553] ["[ddl] start DDL job"] [job="ID:115, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:114, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:44.024 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `t_gppivc` (`c0`, `c1`, `c3`, `c4`, `c5`, `c6`, `c7`) AS SELECT `ref_0`.`c_s_x8wd` AS `c0`,NULLIF(`ref_0`.`c_hndnw`, `ref_0`.`c_to6g3c`) AS `c1`,(`ref_0`.`c_xlxih`-(`ref_0`.`c_xlxih`<<`ref_0`.`c_xlxih`)) AS `c3`,`ref_0`.`c_hndnw` AS `c4`,`ref_0`.`c_to6g3c` AS `c5`,`ref_0`.`c_xru7m` AS `c6`,`ref_0`.`c_xru7m` AS `c7` FROM `testdb`.`t_x0zovd` AS `ref_0` WHERE `ref_0`.`c_to6g3c` NOT IN (SELECT `ref_1`.`c_u2_5wc` AS `c0` FROM `testdb`.`t_fhw96d` AS `ref_1` WHERE `ref_1`.`c_bnoakb`!=`ref_1`.`c_bnoakb` AND (`ref_1`.`c_qm1ixc`>>`ref_1`.`c_gsj0eb`) IS NOT NULL) */;"]
   > [2024/07/02 13:08:44.025 +00:00] [INFO] [ddl_worker.go:718] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:115, Type:create view, State:none, SchemaState:queueing, SchemaID:90, TableID:114, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.024 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.026 +00:00] [INFO] [domain.go:135] ["diff load InfoSchema success"] [currentSchemaVersion=84] [neededSchemaVersion=85] ["start time"=179.703µs] [phyTblIDs="[114]"] [actionTypes="[2097152]"]
   > [2024/07/02 13:08:44.028 +00:00] [INFO] [ddl_worker.go:921] ["[ddl] wait latest schema version changed"] [worker="worker 3, tp general"] [ver=85] ["take time"=2.234317ms] [job="ID:115, Type:create view, State:done, SchemaState:public, SchemaID:90, TableID:114, RowCount:0, ArgLen:3, start time: 2024-07-02 13:08:44.024 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.029 +00:00] [INFO] [ddl_worker.go:418] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:115, Type:create view, State:synced, SchemaState:public, SchemaID:90, TableID:114, RowCount:0, ArgLen:0, start time: 2024-07-02 13:08:44.024 +0000 UTC, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
   > [2024/07/02 13:08:44.031 +00:00] [INFO] [ddl.go:615] ["[ddl] DDL job is finished"] [jobID=115]
   > [2024/07/02 13:08:44.031 +00:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
   > [2024/07/02 13:08:45.118 +00:00] [WARN] [conn.go:858] ["No user plugin set, assuming MySQL Native Password"] [conn=13] [user=root] [host=]
   > [2024/07/02 13:08:45.140 +00:00] [INFO] [set.go:139] ["set global var"] [conn=13] [name=tx_isolation] [val=REPEATABLE-READ]
   > [2024/07/02 13:08:45.645 +00:00] [ERROR] [conn.go:974] ["connection running loop panic"] [conn=13] [lastSQL=" WITH cte_0 AS ( select distinct avg(0) over w_ap1h0c as c2 from (select ref_0.c7 as c3, ref_0.c1 as c10 from t_ai_sq as ref_0 ) as subq_0 window w_ap1h0c as ( partition by subq_0.c3 order by (subq_0.c3 - case when subq_0.c10 in ( select null as c0) then subq_0.c3 else subq_0.c3 end ) desc)) select 1;"] [err="runtime error: invalid memory address or nil pointer dereference"] [stack="goroutine 1454 [running]:\ngithub.com/pingcap/tidb/server.(*clientConn).Run.func1()\n\t/go/src/github.com/pingcap/tidb/server/conn.go:972 +0x8f\npanic({0x367fc80, 0x5828510})\n\t/usr/local/go/src/runtime/panic.go:884 +0x212\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowSpec(0xc0132914f8?, 0xc012402b40?, {0xc013272870?, 0x8?, 0xc013270548?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5618 +0x31\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOriginWindowFuncs(0xc00089e820, {0xc0122abfa8, 0x1, 0x1?}, {0xc013272870, 0x1, 0x1})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5609 +0xf0\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWindowFunctions(0xc00089e820, {0x400d6b0, 0xc013106b10}, {0x403f380, 0xc0130f3ea0}, 0x1?, {0xc0122abf98, 0x1, 0x1}, 0xc0130f66f0)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:5547 +0x2de\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc00089e820, {0x400d6b0, 0xc013106b10}, 0xc012bbd590)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3666 +0x1571\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildResultSetNode(0xc0008f0270?, {0x400d6b0?, 0xc013106b10?}, {0x401ffa0?, 0xc012bbd590?})\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:373 +0x2e5\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildCte(0xc00089e820, {0x400d6b0?, 0xc013106b10?}, 0xc012ec92c0, 0x0?)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6128 +0x9d\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildWith(0xc00089e820, {0x400d6b0, 0xc013106b10}, 0xc01310c4c0)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:6370 +0x31f\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect(0xc00089e820, {0x400d6b0, 0xc013106b10}, 0xc012bbd860)\n\t/go/src/github.com/pingcap/tidb/planner/core/logical_plan_builder.go:3498 +0x519\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).Build(0xc00089e820, {0x400d6b0, 0xc013106b10}, {0x401b268?, 0xc012bbd860?})\n\t/go/src/github.com/pingcap/tidb/planner/core/planbuilder.go:713 +0x6a5\ngithub.com/pingcap/tidb/planner.optimize({0x400d6b0, 0xc013106b10}, {0x40424f0, 0xc00fc02e00}, {0x401b268, 0xc012bbd860?}, {0x4036fa0, 0xc012f77420})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:336 +0x48a\ngithub.com/pingcap/tidb/planner.Optimize({0x400d6b0, 0xc013106b10}, {0x40424f0?, 0xc00fc02e00?}, {0x401b268, 0xc012bbd860}, {0x4036fa0, 0xc012f77420})\n\t/go/src/github.com/pingcap/tidb/planner/optimize.go:220 +0xb30\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile(0xc013292f98, {0x400d6b0, 0xc013106b10}, {0x401fff0?, 0xc012bbd860})\n\t/go/src/github.com/pingcap/tidb/executor/compiler.go:66 +0x492\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt(0xc00fc02e00, {0x400d6b0, 0xc013106b10}, {0x401fff0, 0xc012bbd860?})\n\t/go/src/github.com/pingcap/tidb/session/session.go:1559 +0x5fa\ngithub.com/pingcap/tidb/server.(*TiDBContext).ExecuteStmt(0xc012e72e40, {0x400d6b0?, 0xc013106b10?}, {0x401fff0?, 0xc012bbd860?})\n\t/go/src/github.com/pingcap/tidb/server/driver_tidb.go:219 +0x44\ngithub.com/pingcap/tidb/server.(*clientConn).handleStmt(0xc012dd23c0, {0x400d608, 0xc01310c3c0}, {0x401fff0, 0xc012bbd860}, {0x5f8a1a8, 0x0, 0x0}, 0x1)\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1906 +0x167\ngithub.com/pingcap/tidb/server.(*clientConn).handleQuery(0xc012dd23c0, {0x400d608, 0xc01310c3c0}, {0xc011589041, 0x12e})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1775 +0x774\ngithub.com/pingcap/tidb/server.(*clientConn).dispatch(0xc012dd23c0, {0x400d6b0, 0xc0130f43c0?}, {0xc011589040, 0x12f, 0x12f})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1279 +0x1025\ngithub.com/pingcap/tidb/server.(*clientConn).Run(0xc012dd23c0, {0x400d6b0, 0xc0130f43c0})\n\t/go/src/github.com/pingcap/tidb/server/conn.go:1034 +0x253\ngithub.com/pingcap/tidb/server.(*Server).onConn(0xc0105da0d0, 0xc012dd23c0)\n\t/go/src/github.com/pingcap/tidb/server/server.go:550 +0x6c5\ncreated by github.com/pingcap/tidb/server.(*Server).startNetworkLi"]
